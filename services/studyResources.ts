import { StudyResource, ResourceType, Domain } from '../types';

export const addResourceToGlobalPool = (
  resourceData: Omit<StudyResource, 'id' | 'isArchived'> & { id?: string }
): StudyResource => {
  const newResource: StudyResource = {
    ...resourceData,
    id: `custom_${Date.now()}`,
    isArchived: false,
    schedulingPriority: resourceData.isPrimaryMaterial ? 'high' : 'medium', // Default custom non-primary to medium
  };
  // The 'id' from resourceData is ignored if present, as this function is for creating new resources.
  return newResource;
};

// Helper to convert HH:MM:SS or MM:SS to total minutes
const durationToMinutes = (durationStr: string): number => {
  const parts = durationStr.split(':').map(Number);
  let totalMinutes = 0;
  if (parts.length === 3) { // HH:MM:SS
    totalMinutes = parts[0] * 60 + parts[1] + (parts[2] / 60);
  } else if (parts.length === 2) { // MM:SS
    totalMinutes = parts[0] + (parts[1] / 60);
  } else if (parts.length === 1 && !isNaN(parts[0])) { // Assume minutes if single number
    totalMinutes = parts[0];
  } else {
    console.warn(`Could not parse duration: ${durationStr}`);
    return 0;
  }
  return Math.round(totalMinutes); // Ensure integer output
};

const readingDuration = (pages: number | undefined): number => {
    return pages ? Math.round(pages * 1.5) : 0; // Adjusted reading time to be more realistic
};

const domainMap: Record<string, Domain> = {
  "PHYSICS": Domain.PHYSICS, "BREAST": Domain.BREAST_IMAGING, "CARDIOVASCULAR": Domain.CARDIOVASCULAR_IMAGING,
  "GASTROINTESTINAL": Domain.GASTROINTESTINAL_IMAGING, "GENITOURINARY": Domain.GENITOURINARY_IMAGING,
  "INTERVENTIONAL": Domain.INTERVENTIONAL_RADIOLOGY, "MUSCULOSKELETAL": Domain.MUSCULOSKELETAL_IMAGING,
  "NEURORADIOLOGY": Domain.NEURORADIOLOGY, "NUCLEAR": Domain.NUCLEAR_MEDICINE,
  "PEDIATRIC": Domain.PEDIATRIC_RADIOLOGY, "THORACIC": Domain.THORACIC_IMAGING,
  "ULTRASOUND": Domain.ULTRASOUND_IMAGING, "NIS": Domain.NIS, "RISC": Domain.RISC,
  "BODY": Domain.GASTROINTESTINAL_IMAGING, "NEURO": Domain.NEURORADIOLOGY, "PEDS": Domain.PEDIATRIC_RADIOLOGY,
  "NUCS": Domain.NUCLEAR_MEDICINE, "CHEST": Domain.THORACIC_IMAGING, "MSK": Domain.MUSCULOSKELETAL_IMAGING,
  "IR": Domain.INTERVENTIONAL_RADIOLOGY, "GU": Domain.GENITOURINARY_IMAGING,
  "GI": Domain.GASTROINTESTINAL_IMAGING, "CARDIAC": Domain.CARDIOVASCULAR_IMAGING,
  "REPRODUCTIVE": Domain.GENITOURINARY_IMAGING, "RENAL": Domain.GENITOURINARY_IMAGING,
  "UNKNOWN": Domain.MIXED_REVIEW, 
};

const getResourceDomain = (category: string, title: string): Domain => {
  const upperCategory = category.toUpperCase();
  if (domainMap[upperCategory]) return domainMap[upperCategory];

  const lowerTitle = title.toLowerCase();
  if (lowerTitle.includes("physics")) return Domain.PHYSICS;
  if (lowerTitle.includes("breast")) return Domain.BREAST_IMAGING;
  if (lowerTitle.includes("cardiac") || lowerTitle.includes("carotid") || lowerTitle.includes("vascular") || lowerTitle.includes("aortic")) return Domain.CARDIOVASCULAR_IMAGING;
  if (lowerTitle.includes("gi/") || lowerTitle.includes("gu ") || lowerTitle.includes("gi ") || lowerTitle.includes("renal") || lowerTitle.includes("prostate") || lowerTitle.includes("reproductive") || lowerTitle.includes("body") || lowerTitle.includes("barium")) return Domain.GASTROINTESTINAL_IMAGING;
  if (lowerTitle.includes("interventional") || lowerTitle.includes("ir ")) return Domain.INTERVENTIONAL_RADIOLOGY;
  if (lowerTitle.includes("msk") || lowerTitle.includes("musculoskeletal") || lowerTitle.includes("bone")) return Domain.MUSCULOSKELETAL_IMAGING;
  if (lowerTitle.includes("neuro") || lowerTitle.includes("head and neck") || lowerTitle.includes("ent") || lowerTitle.includes("skull base") || lowerTitle.includes("spine")) return Domain.NEURORADIOLOGY;
  if (lowerTitle.includes("nucs") || lowerTitle.includes("nuclear") || lowerTitle.includes("pet") || lowerTitle.includes("parathyroid") || lowerTitle.includes("thyroid")) return Domain.NUCLEAR_MEDICINE;
  if (lowerTitle.includes("peds") || lowerTitle.includes("pediatric")) return Domain.PEDIATRIC_RADIOLOGY;
  if (lowerTitle.includes("thoracic") || lowerTitle.includes("chest") || lowerTitle.includes("pulmonary")) return Domain.THORACIC_IMAGING;
  if (lowerTitle.includes("ultrasound")) return Domain.ULTRASOUND_IMAGING;
  if (lowerTitle.includes("nis")) return Domain.NIS;
  
  return Domain.HIGH_YIELD; 
};


const createQBankChunks = (
  baseId: string,
  titlePrefix: string,
  domain: Domain,
  totalQuestions: number,
  bookSource: string,
  startSequence: number,
  priority: 'medium' | 'low',
  questionsPerChunk = 40
): StudyResource[] => {
  const chunks: StudyResource[] = [];
  let remainingQuestions = totalQuestions;
  let setNumber = 1;

  while (remainingQuestions > 0) {
    const currentChunkSize = Math.min(remainingQuestions, questionsPerChunk);
    const questionId = `${baseId}_s${setNumber}_q`;
    const reviewId = `${baseId}_s${setNumber}_r`;

    chunks.push({
      id: questionId,
      title: `${titlePrefix} - Set ${setNumber}`,
      domain,
      type: ResourceType.QUESTIONS,
      questionCount: currentChunkSize,
      durationMinutes: Math.round(currentChunkSize * 1.1),
      bookSource,
      sequenceOrder: startSequence + (setNumber - 1) * 2,
      isPrimaryMaterial: false,
      isSplittable: true,
      pairedResourceIds: [reviewId],
      isArchived: false,
      isOptional: false,
      schedulingPriority: priority,
    });

    chunks.push({
      id: reviewId,
      title: `${titlePrefix} - Set ${setNumber} (Review)`,
      domain,
      type: ResourceType.QUESTION_REVIEW,
      questionCount: currentChunkSize,
      durationMinutes: Math.round(currentChunkSize * 0.6),
      bookSource,
      sequenceOrder: startSequence + (setNumber - 1) * 2 + 1,
      isPrimaryMaterial: false,
      isSplittable: true,
      pairedResourceIds: [questionId],
      isArchived: false,
      isOptional: false,
      schedulingPriority: priority,
    });

    remainingQuestions -= currentChunkSize;
    setNumber++;
  }
  return chunks;
};

// Corrected Chapter to Domain mapping for Core Radiology
const coreRadiologyChapterMap: Record<number, Domain> = {
    1: Domain.THORACIC_IMAGING, 2: Domain.GASTROINTESTINAL_IMAGING, 3: Domain.GENITOURINARY_IMAGING,
    // FIX: Mapped chapter 4 (Obstetrics) to GENITOURINARY_IMAGING as OBSTETRIC_IMAGING does not exist in the Domain enum.
    4: Domain.GENITOURINARY_IMAGING, 5: Domain.CARDIOVASCULAR_IMAGING, 6: Domain.INTERVENTIONAL_RADIOLOGY,
    7: Domain.NEURORADIOLOGY, 8: Domain.NEURORADIOLOGY, 9: Domain.NEURORADIOLOGY,
    10: Domain.MUSCULOSKELETAL_IMAGING, 11: Domain.PEDIATRIC_RADIOLOGY, 12: Domain.PHYSICS,
};

// Data from "Core Radiology, 2nd Edition" TOC
const coreRadiologyToc = [
  // ... [The extensive Table of Contents from the prompt is included here]
  { chapter: 1, section: '1.1.1', title: 'Lobar and Segmental Anatomy', startPage: 14, endPage: 14 },
  { chapter: 1, section: '1.1.2', title: 'Overview of Atelectasis (Direct/Indirect Signs, Mechanisms, Patterns)', startPage: 15, endPage: 19 },
  { chapter: 1, section: '1.2.1', title: 'Essential Anatomy: Secondary Pulmonary Lobule (SPL)', startPage: 20, endPage: 20 },
  { chapter: 1, section: '1.2.2', title: 'Abnormalities of the SPL (Consolidation, Ground Glass, Interlobular Septal Thickening)', startPage: 21, endPage: 25 },
  { chapter: 1, section: '1.2.3', title: 'Approach to Multiple Micronodules (Centrilobular, Perilymphatic, Random, Tree-in-Bud)', startPage: 25, endPage: 29 },
  { chapter: 1, section: '1.2.4', title: 'Cavitary and Cystic Lung Disease', startPage: 30, endPage: 32 },
  { chapter: 1, section: '1.3.1', title: 'Clinical Classification of Pneumonia', startPage: 33, endPage: 33 },
  { chapter: 1, section: '1.3.2', title: 'Radiographic Patterns of Infection', startPage: 33, endPage: 33 },
  { chapter: 1, section: '1.3.3', title: 'Complications of Pneumonia', startPage: 34, endPage: 34 },
  { chapter: 1, section: '1.3.4', title: 'Specific Infections (TB, Fungi, Viral, Immunocompromised)', startPage: 35, endPage: 43 },
  { chapter: 1, section: '1.4.1', title: 'Overview of Pulmonary Edema', startPage: 44, endPage: 44 },
  { chapter: 1, section: '1.4.2', title: 'Support Devices (ICU Imaging)', startPage: 45, endPage: 46 },
  { chapter: 1, section: '1.5.1', title: 'Lung Cancer: Clinical Overview', startPage: 46, endPage: 46 },
  { chapter: 1, section: '1.5.2', title: 'Solitary Pulmonary Nodule', startPage: 47, endPage: 48 },
  { chapter: 1, section: '1.5.3', title: 'Lung Cancer: Histologic Subtypes', startPage: 48, endPage: 50 },
  { chapter: 1, section: '1.5.4', title: 'Specific Tumors (Carcinoid, Lymphoma, PTLD)', startPage: 51, endPage: 52 },
  { chapter: 1, section: '1.5.5', title: 'Lung Cancer: Radiologic Presentation', startPage: 53, endPage: 55 },
  { chapter: 1, section: '1.5.6', title: 'Lung Cancer: Staging', startPage: 55, endPage: 57 },
  { chapter: 1, section: '1.6.1', title: 'Pulmonary Embolism', startPage: 58, endPage: 62 },
  { chapter: 1, section: '1.6.2', title: 'Pulmonary Hypertension', startPage: 62, endPage: 65 },
  { chapter: 1, section: '1.7.1', title: 'Interstitial Lung Disease (ILD) Overview', startPage: 66, endPage: 70 },
  { chapter: 1, section: '1.7.2', title: 'Antigen and Exposure-Related Lung Disease', startPage: 71, endPage: 72 },
  { chapter: 1, section: '1.7.3', title: 'Eosinophilic Lung Disease', startPage: 73, endPage: 73 },
  { chapter: 1, section: '1.7.4', title: 'Pulmonary Vasculitis', startPage: 74, endPage: 75 },
  { chapter: 1, section: '1.7.5', title: 'Iatrogenic Lung Disease', startPage: 75, endPage: 76 },
  { chapter: 1, section: '1.7.6', title: 'Idiopathic Systemic Diseases (Sarcoidosis)', startPage: 76, endPage: 79 },
  { chapter: 1, section: '1.7.7', title: 'Miscellaneous Diffuse Pulmonary Disease (PAP)', startPage: 80, endPage: 80 },
  { chapter: 1, section: '1.7.8', title: 'Cystic Lung Disease (LAM, LIP, BHD)', startPage: 81, endPage: 82 },
  { chapter: 1, section: '1.8.1', title: 'Anatomy of the Mediastinum', startPage: 82, endPage: 84 },
  { chapter: 1, section: '1.8.2', title: 'Radiographic Localization of a Mediastinal Mass', startPage: 85, endPage: 85 },
  { chapter: 1, section: '1.8.3', title: 'Prevascular Compartment Mediastinal Mass', startPage: 86, endPage: 88 },
  { chapter: 1, section: '1.8.4', title: 'Visceral Compartment Mediastinal Mass', startPage: 89, endPage: 92 },
  { chapter: 1, section: '1.8.5', title: 'Paravertebral Compartment Mediastinal Mass', startPage: 93, endPage: 94 },
  { chapter: 2, section: '2.1.1', title: 'Liver Anatomy', startPage: 96, endPage: 97 },
  { chapter: 2, section: '2.1.2', title: 'Imaging of the Liver', startPage: 98, endPage: 99 },
  { chapter: 2, section: '2.1.3', title: 'Diffuse Parenchymal Liver Disease', startPage: 99, endPage: 102 },
  { chapter: 2, section: '2.1.4', title: 'Cirrhosis', startPage: 103, endPage: 104 },
  { chapter: 2, section: '2.1.5', title: 'Malignant Hepatic Masses', startPage: 105, endPage: 110 },
  { chapter: 2, section: '2.1.6', title: 'Benign Liver Masses', startPage: 111, endPage: 115 },
  { chapter: 2, section: '2.1.7', title: 'Hepatic Infection', startPage: 116, endPage: 118 },
  { chapter: 2, section: '2.1.8', title: 'Cystic Liver Disease', startPage: 118, endPage: 119 },
  { chapter: 2, section: '2.1.9', title: 'Liver Trauma', startPage: 120, endPage: 121 },
  { chapter: 2, section: '2.1.10', title: 'Liver Transplant', startPage: 121, endPage: 121 },
  { chapter: 2, section: '2.1.11', title: 'Vascular Liver Disease', startPage: 121, endPage: 122 },
  { chapter: 2, section: '2.2.1', title: 'Hepatic Doppler: Normal Anatomy and Waveforms', startPage: 123, endPage: 123 },
  { chapter: 2, section: '2.2.2', title: 'Portal Vein Pathologies', startPage: 124, endPage: 125 },
  { chapter: 2, section: '2.2.3', title: 'Portal Hypertension', startPage: 126, endPage: 128 },
  { chapter: 2, section: '2.2.4', title: 'Hepatic Vein Pathologies', startPage: 129, endPage: 129 },
  { chapter: 2, section: '2.3.1', title: 'Biliary Imaging: Anatomy and Variants', startPage: 130, endPage: 130 },
  { chapter: 2, section: '2.3.2', title: 'Gallstones and Cholecystitis', startPage: 131, endPage: 135 },
  { chapter: 2, section: '2.3.3', title: 'Hyperplastic Cholecystoses', startPage: 135, endPage: 137 },
  { chapter: 2, section: '2.3.4', title: 'MRCP', startPage: 138, endPage: 140 },
  { chapter: 2, section: '2.3.5', title: 'Bile Duct Pathology', startPage: 141, endPage: 142 },
  { chapter: 2, section: '2.3.6', title: 'Bile Duct Infection and Inflammation', startPage: 143, endPage: 144 },
  { chapter: 2, section: '2.3.7', title: 'Biliary Neoplasia', startPage: 145, endPage: 147 },
  { chapter: 2, section: '2.4.1', title: 'Pancreas: Normal Ductal Anatomy', startPage: 148, endPage: 148 },
  { chapter: 2, section: '2.4.2', title: 'Congenital Pancreatic Anomalies', startPage: 148, endPage: 149 },
  { chapter: 2, section: '2.4.3', title: 'Pancreatitis', startPage: 150, endPage: 153 },
  { chapter: 2, section: '2.4.4', title: 'Pancreatic Neoplasms', startPage: 154, endPage: 160 },
  { chapter: 2, section: '2.4.5', title: 'Systemic Diseases Affecting Pancreas', startPage: 160, endPage: 161 },
  { chapter: 2, section: '2.4.6', title: 'Miscellaneous Pancreatic Lesions', startPage: 161, endPage: 162 },
  { chapter: 2, section: '2.5.1', title: 'Congenital Splenic Variations', startPage: 163, endPage: 163 },
  { chapter: 2, section: '2.5.2', title: 'Overview of Splenic Lesions', startPage: 164, endPage: 169 },
  { chapter: 2, section: '2.5.3', title: 'Miscellaneous Splenic Lesions', startPage: 169, endPage: 170 },
  { chapter: 2, section: '2.5.4', title: 'Splenic Trauma', startPage: 170, endPage: 171 },
  { chapter: 2, section: '2.6.1', title: 'Esophagus: Anatomy', startPage: 173, endPage: 173 },
  { chapter: 2, section: '2.6.2', title: 'Esophagus: Imaging', startPage: 173, endPage: 174 },
  { chapter: 2, section: '2.6.3', title: 'Esophageal Rings and Webs', startPage: 174, endPage: 174 },
  { chapter: 2, section: '2.6.4', title: 'Esophagitis', startPage: 175, endPage: 176 },
  { chapter: 2, section: '2.6.5', title: 'Esophageal Strictures', startPage: 176, endPage: 177 },
  { chapter: 2, section: '2.6.6', title: 'Esophageal Masses', startPage: 177, endPage: 180 },
  { chapter: 2, section: '2.6.7', title: 'Esophageal Motility Disorders', startPage: 180, endPage: 181 },
  { chapter: 2, section: '2.6.8', title: 'Esophageal Diverticula', startPage: 182, endPage: 183 },
  { chapter: 2, section: '2.6.9', title: 'Miscellaneous Esophageal Disorders', startPage: 184, endPage: 184 },
  { chapter: 2, section: '2.7.1', title: 'Stomach: Anatomy', startPage: 185, endPage: 185 },
  { chapter: 2, section: '2.7.2', title: 'Hiatal Hernias', startPage: 185, endPage: 186 },
  { chapter: 2, section: '2.7.3', title: 'Gastric Volvulus', startPage: 187, endPage: 187 },
  { chapter: 2, section: '2.7.4', title: 'Thickened Gastric Folds', startPage: 187, endPage: 188 },
  { chapter: 2, section: '2.7.5', title: 'Gastric Polyps', startPage: 188, endPage: 189 },
  { chapter: 2, section: '2.7.6', title: 'Gastric Ulcers', startPage: 189, endPage: 189 },
  { chapter: 2, section: '2.7.7', title: 'Gastric Masses', startPage: 190, endPage: 192 },
  { chapter: 2, section: '2.7.8', title: 'Common Gastric Surgeries', startPage: 193, endPage: 196 },
  { chapter: 2, section: '2.8.1', title: 'Small Bowel Anatomy', startPage: 197, endPage: 197 },
  { chapter: 2, section: '2.8.2', title: 'Small Bowel Obstruction', startPage: 197, endPage: 204 },
  { chapter: 2, section: '2.8.3', title: 'Enteritis (Crohn\'s, Celiac, etc.)', startPage: 205, endPage: 208 },
  { chapter: 2, section: '2.8.4', title: 'Other Diseases of the Small Bowel', startPage: 209, endPage: 209 },
  { chapter: 2, section: '2.9.1', title: 'Appendicitis', startPage: 210, endPage: 211 },
  { chapter: 2, section: '2.9.2', title: 'Appendiceal Neoplasms', startPage: 211, endPage: 212 },
  { chapter: 2, section: '2.10.1', title: 'Large Bowel Anatomy', startPage: 213, endPage: 213 },
  { chapter: 2, section: '2.10.2', title: 'Colitis', startPage: 214, endPage: 217 },
  { chapter: 2, section: '2.10.3', title: 'Other Acute Large Bowel Pathologies', startPage: 218, endPage: 219 },
  { chapter: 2, section: '2.10.4', title: 'Colorectal Carcinoma', startPage: 220, endPage: 220 },
  { chapter: 2, section: '2.10.5', title: 'Polyposis Syndromes', startPage: 221, endPage: 222 },
  { chapter: 2, section: '2.11.1', title: 'Mesentery, Peritoneum, and Omentum: Anatomy', startPage: 222, endPage: 223 },
  { chapter: 2, section: '2.11.2', title: '"Misty" Mesentery', startPage: 223, endPage: 224 },
  { chapter: 2, section: '2.11.3', title: 'Mesenteric Masses', startPage: 224, endPage: 226 },
  { chapter: 2, section: '2.11.4', title: 'Omental Disease', startPage: 226, endPage: 226 },
  { chapter: 2, section: '2.11.5', title: 'Diffuse Peritoneal Disease', startPage: 227, endPage: 228 },
  { chapter: 3, section: '3.1.1', title: 'Retroperitoneal Anatomy', startPage: 230, endPage: 230 },
  { chapter: 3, section: '3.1.2', title: 'Retroperitoneal Disease', startPage: 231, endPage: 232 },
  { chapter: 3, section: '3.2.1', title: 'Adrenal Glands: Anatomy', startPage: 233, endPage: 233 },
  { chapter: 3, section: '3.2.2', title: 'Biochemical Approach to Adrenal Lesions', startPage: 233, endPage: 234 },
  { chapter: 3, section: '3.2.3', title: 'Imaging of Adrenal Adenoma', startPage: 234, endPage: 236 },
  { chapter: 3, section: '3.2.4', title: 'Specific Adrenal Masses', startPage: 237, endPage: 237 },
  { chapter: 3, section: '3.2.5', title: 'Malignant/Potentially Malignant Adrenal Masses', startPage: 238, endPage: 239 },
  { chapter: 3, section: '3.2.6', title: 'Diffuse Adrenal Disorders', startPage: 240, endPage: 240 },
  { chapter: 3, section: '3.3.1', title: 'Renal Imaging Patterns', startPage: 241, endPage: 244 },
  { chapter: 3, section: '3.3.2', title: 'Renal Anomalies and Normal Variants', startPage: 245, endPage: 246 },
  { chapter: 3, section: '3.3.3', title: 'Nephrocalcinosis', startPage: 246, endPage: 247 },
  { chapter: 3, section: '3.3.4', title: 'Papillary Necrosis', startPage: 248, endPage: 248 },
  { chapter: 3, section: '3.3.5', title: 'Renal Trauma', startPage: 249, endPage: 250 },
  { chapter: 3, section: '3.3.6', title: 'Hydronephrosis, Urinary Obstruction, and Stones', startPage: 250, endPage: 252 },
  { chapter: 3, section: '3.3.7', title: 'Renal Infection and Inflammation', startPage: 253, endPage: 255 },
  { chapter: 3, section: '3.3.8', title: 'Diagnostic Approach to a Renal Mass', startPage: 256, endPage: 257 },
  { chapter: 3, section: '3.3.9', title: 'Cystic Renal Masses (Bosniak)', startPage: 257, endPage: 259 },
  { chapter: 3, section: '3.3.10', title: 'Multicystic Renal Disease', startPage: 260, endPage: 261 },
  { chapter: 3, section: '3.3.11', title: 'Solid Renal Masses', startPage: 261, endPage: 265 },
  { chapter: 3, section: '3.3.12', title: 'Syndromes with Renal Masses', startPage: 266, endPage: 267 },
  { chapter: 3, section: '3.3.13', title: 'Imaging of Renal Transplant', startPage: 267, endPage: 268 },
  { chapter: 3, section: '3.4.1', title: 'Ureteral Imaging (CT Urography)', startPage: 269, endPage: 269 },
  { chapter: 3, section: '3.4.2', title: 'Malignant Ureteral Disease (TCC)', startPage: 269, endPage: 269 },
  { chapter: 3, section: '3.4.3', title: 'Benign Ureteral Masses', startPage: 270, endPage: 270 },
  { chapter: 3, section: '3.4.4', title: 'Inflammatory and Infectious Ureteral Disease', startPage: 270, endPage: 271 },
  { chapter: 3, section: '3.4.5', title: 'Differential Diagnosis of a Ureteral Filling Defect', startPage: 271, endPage: 271 },
  { chapter: 3, section: '3.4.6', title: 'Structural Ureteral Lesions', startPage: 271, endPage: 272 },
  { chapter: 3, section: '3.5.1', title: 'Bladder Stones', startPage: 273, endPage: 273 },
  { chapter: 3, section: '3.5.2', title: 'Bladder Transitional Cell Carcinoma', startPage: 273, endPage: 273 },
  { chapter: 3, section: '3.5.3', title: 'Bladder Adenocarcinoma', startPage: 274, endPage: 274 },
  { chapter: 3, section: '3.5.4', title: 'Bladder Trauma', startPage: 274, endPage: 275 },
  { chapter: 3, section: '3.6.1', title: 'Male Urethral Anatomy', startPage: 276, endPage: 277 },
  { chapter: 3, section: '3.6.2', title: 'Imaging of the Male Urethra', startPage: 277, endPage: 277 },
  { chapter: 3, section: '3.6.3', title: 'Urethral Stricture', startPage: 277, endPage: 277 },
  { chapter: 3, section: '3.6.4', title: 'Urethral Trauma', startPage: 277, endPage: 277 },
  { chapter: 3, section: '3.6.5', title: 'Penile Abnormalities', startPage: 278, endPage: 279 },
  { chapter: 3, section: '3.7.1', title: 'Prostate Anatomy (MRI)', startPage: 279, endPage: 280 },
  { chapter: 3, section: '3.7.2', title: 'Prostatitis', startPage: 280, endPage: 281 },
  { chapter: 3, section: '3.7.3', title: 'Prostate Cancer (MRI)', startPage: 281, endPage: 284 },
  { chapter: 3, section: '3.7.4', title: 'Adrenal Vein Sampling', startPage: 284, endPage: 284 },
  { chapter: 3, section: '3.8.1', title: 'Scrotal Anatomy', startPage: 285, endPage: 285 },
  { chapter: 3, section: '3.8.2', title: 'Vascular Disease of the Testis', startPage: 286, endPage: 286 },
  { chapter: 3, section: '3.8.3', title: 'Scrotal Trauma', startPage: 287, endPage: 287 },
  { chapter: 3, section: '3.8.4', title: 'Scrotal Infection', startPage: 287, endPage: 288 },
  { chapter: 3, section: '3.8.5', title: 'Testicular Masses', startPage: 288, endPage: 291 },
  { chapter: 3, section: '3.8.6', title: 'Extra-Testicular Masses', startPage: 291, endPage: 292 },
  { chapter: 3, section: '3.9.1', title: 'Female Urethra', startPage: 293, endPage: 293 },
  { chapter: 3, section: '3.9.2', title: 'Vagina', startPage: 294, endPage: 297 },
  { chapter: 3, section: '3.10.1', title: 'Female Pelvis: Anatomy', startPage: 298, endPage: 299 },
  { chapter: 3, section: '3.10.2', title: 'Female Pelvis: Imaging', startPage: 299, endPage: 300 },
  { chapter: 3, section: '3.11.1', title: 'Uterus: Anatomy', startPage: 301, endPage: 301 },
  { chapter: 3, section: '3.11.2', title: 'Uterus: Normal T2 Zonal Anatomy', startPage: 301, endPage: 301 },
  { chapter: 3, section: '3.11.3', title: 'Uterus: Endometrium', startPage: 301, endPage: 306 },
  { chapter: 3, section: '3.11.4', title: 'Uterus: Myometrial Pathology', startPage: 307, endPage: 309 },
  { chapter: 3, section: '3.11.5', title: 'Congenital Uterine Malformations', startPage: 309, endPage: 310 },
  { chapter: 3, section: '3.11.6', title: 'Miscellaneous Uterine Disease', startPage: 311, endPage: 312 },
  { chapter: 3, section: '3.12.1', title: 'Ovaries and Adnexa: Anatomy and Physiology', startPage: 314, endPage: 314 },
  { chapter: 3, section: '3.12.2', title: 'Adnexal Torsion', startPage: 315, endPage: 316 },
  { chapter: 3, section: '3.12.3', title: 'Ovarian Masses', startPage: 316, endPage: 321 },
  { chapter: 3, section: '3.12.4', title: 'Miscellaneous Ovarian Syndromes', startPage: 322, endPage: 322 },
  { chapter: 3, section: '3.12.5', title: 'Adnexal Cystic Lesions', startPage: 323, endPage: 323 },
  { chapter: 4, section: '4.1.1', title: 'Imaging of the Early Pregnancy', startPage: 325, endPage: 326 },
  { chapter: 4, section: '4.1.2', title: 'Pregnancy Dating', startPage: 326, endPage: 326 },
  { chapter: 4, section: '4.1.3', title: 'Early Pregnancy Prognosis', startPage: 327, endPage: 327 },
  { chapter: 4, section: '4.1.4', title: 'Ectopic Pregnancy', startPage: 328, endPage: 330 },
  { chapter: 4, section: '4.1.5', title: 'Cesarean Section Scar Implantation', startPage: 331, endPage: 331 },
  { chapter: 4, section: '4.1.6', title: 'Miscellaneous First Trimester Disorders', startPage: 331, endPage: 332 },
  { chapter: 4, section: '4.1.7', title: 'Multiple Gestations and Placentation', startPage: 333, endPage: 334 },
  { chapter: 4, section: '4.1.8', title: 'Complications of Monochorionic Twins', startPage: 336, endPage: 337 },
  { chapter: 4, section: '4.1.9', title: 'Evaluation of the First Trimester Embryo', startPage: 338, endPage: 339 },
  { chapter: 4, section: '4.2.1', title: '2nd/3rd Trimesters: Measurements', startPage: 339, endPage: 341 },
  { chapter: 4, section: '4.2.2', title: 'Evaluation of the Cervix', startPage: 341, endPage: 341 },
  { chapter: 4, section: '4.2.3', title: 'Umbilical Cord', startPage: 342, endPage: 343 },
  { chapter: 4, section: '4.2.4', title: 'Amniotic Fluid', startPage: 343, endPage: 344 },
  { chapter: 4, section: '4.2.5', title: 'Placenta', startPage: 344, endPage: 346 },
  { chapter: 4, section: '4.2.6', title: 'Fetal Hydrops', startPage: 347, endPage: 347 },
  { chapter: 4, section: '4.2.7', title: 'Fetal Brain', startPage: 348, endPage: 352 },
  { chapter: 4, section: '4.2.8', title: 'Fetal Spine', startPage: 352, endPage: 353 },
  { chapter: 4, section: '4.2.9', title: 'Fetal Face', startPage: 353, endPage: 354 },
  { chapter: 4, section: '4.2.10', title: 'Fetal Thorax', startPage: 354, endPage: 356 },
  { chapter: 4, section: '4.2.11', title: 'Fetal Heart', startPage: 356, endPage: 358 },
  { chapter: 4, section: '4.2.12', title: 'Fetal Genitourinary', startPage: 361, endPage: 363 },
  { chapter: 4, section: '4.2.13', title: 'Fetal Musculoskeletal Imaging', startPage: 364, endPage: 365 },
  { chapter: 4, section: '4.2.14', title: 'Trisomies and Syndromes', startPage: 365, endPage: 367 },
  { chapter: 5, section: '5.1.1', title: 'Anatomy of Thoracic Aorta', startPage: 540, endPage: 540 },
  { chapter: 5, section: '5.1.2', title: 'Aortic Arch and Variants', startPage: 540, endPage: 542 },
  { chapter: 5, section: '5.2.1', title: 'Acute Aortic Syndrome: Overview', startPage: 543, endPage: 543 },
  { chapter: 5, section: '5.2.2', title: 'Aortic Dissection', startPage: 543, endPage: 544 },
  { chapter: 5, section: '5.2.3', title: 'Intramural Hematoma (IMH)', startPage: 545, endPage: 545 },
  { chapter: 5, section: '5.2.4', title: 'Penetrating Atherosclerotic Ulcer (PAU)', startPage: 546, endPage: 546 },
  { chapter: 5, section: '5.3.1', title: 'Traumatic Aortic Injury: Overview', startPage: 547, endPage: 548 },
  { chapter: 5, section: '5.3.2', title: 'Minimal Aortic Injury', startPage: 548, endPage: 548 },
  { chapter: 5, section: '5.3.3', title: 'Pseudoaneurysm', startPage: 548, endPage: 548 },
  { chapter: 5, section: '5.4.1', title: 'Thoracic Aortic Aneurysm (TAA)', startPage: 549, endPage: 550 },
  { chapter: 5, section: '5.4.2', title: 'Inflammatory and Infectious Aortic Disorders', startPage: 550, endPage: 551 },
  { chapter: 5, section: '5.4.3', title: 'Occlusive Aortic Disorders', startPage: 552, endPage: 553 },
  { chapter: 5, section: '5.5.1', title: 'SVC Obstruction', startPage: 553, endPage: 553 },
  { chapter: 5, section: '5.5.2', title: 'Congenital Anomalies of the SVC', startPage: 554, endPage: 554 },
  { chapter: 5, section: '5.6.1', title: 'Abdominal Aortic Aneurysm (AAA)', startPage: 555, endPage: 558 },
  { chapter: 5, section: '5.6.2', title: 'Miscellaneous Abdominal Aortic Disorders', startPage: 559, endPage: 560 },
  { chapter: 5, section: '5.7.1', title: 'Mesenteric/Pelvic Vessels: Normal Anatomy', startPage: 561, endPage: 563 },
  { chapter: 5, section: '5.7.2', title: 'Abdominal Anastomotic Pathways', startPage: 563, endPage: 564 },
  { chapter: 5, section: '5.7.3', title: 'Mesenteric Vasculopathy and Aneurysms', startPage: 565, endPage: 566 },
  { chapter: 5, section: '5.7.4', title: 'Vascular Findings of Cirrhosis', startPage: 566, endPage: 566 },
  { chapter: 5, section: '5.7.5', title: 'Mesenteric Ischemia', startPage: 566, endPage: 567 },
  { chapter: 5, section: '5.7.6', title: 'Arterial Compression Syndromes', startPage: 567, endPage: 568 },
  { chapter: 5, section: '5.8.1', title: 'Atherosclerotic Renal Artery Stenosis', startPage: 568, endPage: 568 },
  { chapter: 5, section: '5.8.2', title: 'Fibromuscular Dysplasia', startPage: 568, endPage: 569 },
  { chapter: 5, section: '5.8.3', title: 'Neurofibromatosis', startPage: 569, endPage: 569 },
  { chapter: 5, section: '5.8.4', title: 'Renal Arteriovenous Fistulas and Malformations', startPage: 569, endPage: 569 },
  { chapter: 5, section: '5.9.1', title: 'GI Bleeding: Imaging Diagnosis', startPage: 569, endPage: 570 },
  { chapter: 5, section: '5.9.2', title: 'Diverticular Bleed', startPage: 570, endPage: 570 },
  { chapter: 5, section: '5.9.3', title: 'Angiodysplasia', startPage: 570, endPage: 571 },
  { chapter: 5, section: '5.10.1', title: 'Abdominopelvic Venous Pathologies', startPage: 571, endPage: 572 },
  { chapter: 5, section: '5.11.1', title: 'Nutcracker Syndrome', startPage: 572, endPage: 572 },
  { chapter: 5, section: '5.12.1', title: 'May-Thurner Syndrome', startPage: 573, endPage: 573 },
  { chapter: 5, section: '5.12.2', title: 'Varicocele', startPage: 573, endPage: 573 },
  { chapter: 5, section: '5.12.3', title: 'Pelvic Congestion Syndrome', startPage: 573, endPage: 573 },
  { chapter: 5, section: '5.13.1', title: 'Upper Extremity: Normal Vascular Anatomy', startPage: 574, endPage: 576 },
  { chapter: 5, section: '5.13.2', title: 'Thoracic Outlet Syndromes', startPage: 576, endPage: 577 },
  { chapter: 5, section: '5.13.3', title: 'Hand Anatomy and Pathologies', startPage: 578, endPage: 578 },
  { chapter: 5, section: '5.14.1', title: 'Lower Extremity: Normal Vascular Anatomy', startPage: 579, endPage: 580 },
  { chapter: 5, section: '5.14.2', title: 'Distal Aorta, Iliac, Pelvic, and Leg Arteries Pathologies', startPage: 580, endPage: 581 },
  { chapter: 5, section: '5.14.3', title: 'Thromboembolic and Atherosclerotic Lower Extremity Disease', startPage: 581, endPage: 582 },
  { chapter: 5, section: '5.14.4', title: 'Popliteal Aneurysm', startPage: 583, endPage: 583 },
  { chapter: 5, section: '5.14.5', title: 'Non-atherosclerotic Lower Extremity Arterial Disease', startPage: 583, endPage: 584 },
  { chapter: 5, section: '5.15.1', title: 'Vascular US: General Principles', startPage: 584, endPage: 584 },
  { chapter: 5, section: '5.15.2', title: 'Vascular US: Carotid Artery', startPage: 585, endPage: 586 },
  { chapter: 5, section: '5.15.3', title: 'Vascular US: Renal Artery Stenosis', startPage: 586, endPage: 586 },
  { chapter: 5, section: '5.15.4', title: 'Vascular US: Deep Venous Thrombosis (DVT)', startPage: 587, endPage: 587 },
  { chapter: 5, section: '5.15.5', title: 'Vascular US: Aortic Disease', startPage: 587, endPage: 587 },
  { chapter: 6, section: '6.1.1', title: 'IR: Pre-procedure Preparation', startPage: 589, endPage: 590 },
  { chapter: 6, section: '6.1.2', title: 'IR: Achieving Hemostasis', startPage: 591, endPage: 591 },
  { chapter: 6, section: '6.2.1', title: 'IR Tools: Needles', startPage: 592, endPage: 592 },
  { chapter: 6, section: '6.2.2', title: 'IR Tools: Wires', startPage: 592, endPage: 592 },
  { chapter: 6, section: '6.2.3', title: 'IR Tools: Catheters', startPage: 593, endPage: 593 },
  { chapter: 6, section: '6.2.4', title: 'IR Tools: Sheaths', startPage: 593, endPage: 593 },
  { chapter: 6, section: '6.2.5', title: 'IR Tools: Balloon Angioplasty', startPage: 594, endPage: 594 },
  { chapter: 6, section: '6.2.6', title: 'IR Tools: Stents', startPage: 594, endPage: 594 },
  { chapter: 6, section: '6.2.7', title: 'Principles of Embolization', startPage: 595, endPage: 595 },
  { chapter: 6, section: '6.3.1', title: 'Angiography: Vascular Access', startPage: 596, endPage: 596 },
  { chapter: 6, section: '6.3.2', title: 'Angiography: Complications of Vascular Access', startPage: 597, endPage: 597 },
  { chapter: 6, section: '6.3.3', title: 'Angiography: Injection Rates', startPage: 597, endPage: 597 },
  { chapter: 6, section: '6.3.4', title: 'Angiography: Air Embolism', startPage: 597, endPage: 597 },
  { chapter: 6, section: '6.3.5', title: 'Approach to Interpreting an Angiogram', startPage: 598, endPage: 598 },
  { chapter: 6, section: '6.3.6', title: 'Abdominal and Pelvic Vascular Anatomy for IR', startPage: 599, endPage: 603 },
  { chapter: 6, section: '6.4.1', title: 'Arterial Interventions: Trauma', startPage: 604, endPage: 606 },
  { chapter: 6, section: '6.4.2', title: 'Arterial Interventions: Massive Hemoptysis', startPage: 607, endPage: 608 },
  { chapter: 6, section: '6.4.3', title: 'Arterial Interventions: Pulmonary AVM', startPage: 608, endPage: 609 },
  { chapter: 6, section: '6.4.4', title: 'Arterial Interventions: Obstetric Emergencies', startPage: 609, endPage: 609 },
  { chapter: 6, section: '6.4.5', title: 'Arterial Interventions: GI Bleeding', startPage: 610, endPage: 612 },
  { chapter: 6, section: '6.4.6', title: 'Arterial Interventions: Mesenteric Ischemia', startPage: 612, endPage: 613 },
  { chapter: 6, section: '6.4.7', title: 'Arterial Interventions: Aneurysmal Disease', startPage: 614, endPage: 615 },
  { chapter: 6, section: '6.4.8', title: 'Arterial Interventions: Renal Artery Stenosis', startPage: 615, endPage: 615 },
  { chapter: 6, section: '6.4.9', title: 'Arterial Interventions: Upper Extremity', startPage: 616, endPage: 618 },
  { chapter: 6, section: '6.4.10', title: 'Arterial Interventions: Lower Extremity', startPage: 618, endPage: 619 },
  { chapter: 6, section: '6.5.1', title: 'Venous Interventions: Paget-Schroetter Syndrome', startPage: 620, endPage: 620 },
  { chapter: 6, section: '6.5.2', title: 'Venous Interventions: Nutcracker Syndrome', startPage: 621, endPage: 621 },
  { chapter: 6, section: '6.5.3', title: 'Venous Interventions: May-Thurner Syndrome', startPage: 621, endPage: 622 },
  { chapter: 6, section: '6.5.4', title: 'Venous Interventions: SVC Syndrome', startPage: 622, endPage: 622 },
  { chapter: 6, section: '6.5.5', title: 'Venous Interventions: IVC Disease (Filter Placement)', startPage: 623, endPage: 624 },
  { chapter: 6, section: '6.5.6', title: 'Venous Thromboembolic Disease (Phlegmasia Cerulea Dolens)', startPage: 624, endPage: 624 },
  { chapter: 6, section: '6.5.7', title: 'Chronic Venous Insufficiency', startPage: 625, endPage: 626 },
  { chapter: 6, section: '6.6.1', title: 'Lymphatic Interventions: Anatomy', startPage: 627, endPage: 627 },
  { chapter: 6, section: '6.6.2', title: 'Lymphatic Interventions: Chylous Leak', startPage: 628, endPage: 628 },
  { chapter: 6, section: '6.7.1', title: 'Hepatobiliary: Chronic Liver Disease and Cirrhosis', startPage: 629, endPage: 629 },
  { chapter: 6, section: '6.7.2', title: 'Hepatobiliary: Biliary Disease', startPage: 629, endPage: 631 },
  { chapter: 6, section: '6.7.3', title: 'Hepatobiliary: Gallbladder (Acute Cholecystitis)', startPage: 632, endPage: 633 },
  { chapter: 6, section: '6.7.4', title: 'Hepatobiliary: Portal Hypertension', startPage: 633, endPage: 636 },
  { chapter: 6, section: '6.8.1', title: 'Oncologic Interventions: Ablation Therapy', startPage: 636, endPage: 639 },
  { chapter: 6, section: '6.8.2', title: 'Oncologic Interventions: HCC and Liver Metastases', startPage: 639, endPage: 641 },
  { chapter: 6, section: '6.8.3', title: 'Oncologic Interventions: Renal Neoplasms and Angiomyolipoma', startPage: 641, endPage: 642 },
  { chapter: 6, section: '6.9.1', title: 'GU Interventions: Upper Urinary Tract Obstruction', startPage: 643, endPage: 644 },
  { chapter: 6, section: '6.9.2', title: 'GU Interventions: Uterine Fibroids and Menorrhagia', startPage: 644, endPage: 645 },
  { chapter: 6, section: '6.9.3', title: 'GU Interventions: Prostate Disease', startPage: 645, endPage: 645 },
  { chapter: 6, section: '6.10.1', title: 'Lines, Tubes, Drains: Dialysis Access', startPage: 646, endPage: 647 },
  { chapter: 6, section: '6.10.2', title: 'Lines, Tubes, Drains: Central Venous Access', startPage: 647, endPage: 648 },
  { chapter: 6, section: '6.10.3', title: 'Lines, Tubes, Drains: Fluid Drainage and Aspiration', startPage: 648, endPage: 649 },
  { chapter: 6, section: '6.10.4', title: 'Lines, Tubes, Drains: Enteric Access', startPage: 649, endPage: 649 },
  { chapter: 7, section: '7.1.1', title: 'Neuroimaging Fundamentals: CSF Spaces', startPage: 651, endPage: 653 },
  { chapter: 7, section: '7.1.2', title: 'Hydrocephalus', startPage: 654, endPage: 654 },
  { chapter: 7, section: '7.1.3', title: 'Cerebral Edema', startPage: 654, endPage: 654 },
  { chapter: 7, section: '7.1.4', title: 'Brain Herniation', startPage: 655, endPage: 657 },
  { chapter: 7, section: '7.1.5', title: 'MRI in Neuroradiology', startPage: 657, endPage: 660 },
  { chapter: 7, section: '7.1.6', title: 'Patterns of Enhancement', startPage: 661, endPage: 665 },
  { chapter: 7, section: '7.2.1', title: 'Neurovascular Anatomy: ICA', startPage: 666, endPage: 667 },
  { chapter: 7, section: '7.2.2', title: 'Neurovascular Anatomy: Circle of Willis', startPage: 667, endPage: 668 },
  { chapter: 7, section: '7.2.3', title: 'Neurovascular Anatomy: ACA', startPage: 669, endPage: 669 },
  { chapter: 7, section: '7.2.4', title: 'Neurovascular Anatomy: MCA', startPage: 670, endPage: 670 },
  { chapter: 7, section: '7.2.5', title: 'Persistent Carotid-Basilar Connections', startPage: 671, endPage: 671 },
  { chapter: 7, section: '7.2.6', title: 'Arterial Territories', startPage: 672, endPage: 672 },
  { chapter: 7, section: '7.3.1', title: 'Imaging of Stroke', startPage: 673, endPage: 676 },
  { chapter: 7, section: '7.3.2', title: 'Evolution of Infarction', startPage: 677, endPage: 678 },
  { chapter: 7, section: '7.4.1', title: 'Subarachnoid Hemorrhage (SAH)', startPage: 679, endPage: 682 },
  { chapter: 7, section: '7.4.2', title: 'Aneurysm Morphology and Pathology', startPage: 683, endPage: 685 },
  { chapter: 7, section: '7.5.1', title: 'High-flow Vascular Malformations', startPage: 686, endPage: 687 },
  { chapter: 7, section: '7.5.2', title: 'Low-flow Vascular Malformations', startPage: 688, endPage: 690 },
  { chapter: 7, section: '7.6.1', title: 'Cerebral Venous Anatomy', startPage: 691, endPage: 691 },
  { chapter: 7, section: '7.6.2', title: 'Venous Thrombosis', startPage: 692, endPage: 692 },
  { chapter: 7, section: '7.7.1', title: 'Imaging of Intraparenchymal Hemorrhage', startPage: 693, endPage: 695 },
  { chapter: 7, section: '7.7.2', title: 'Non-traumatic Causes of Intraparenchymal Hemorrhage', startPage: 695, endPage: 700 },
  { chapter: 7, section: '7.8.1', title: 'Cerebral Trauma: Extra-axial Hemorrhage', startPage: 701, endPage: 702 },
  { chapter: 7, section: '7.8.2', title: 'Cerebral Trauma: Intra-axial Injury', startPage: 702, endPage: 703 },
  { chapter: 7, section: '7.9.1', title: 'Approach to a Focal Brain Mass', startPage: 704, endPage: 707 },
  { chapter: 7, section: '7.9.2', title: 'Glial Cells', startPage: 707, endPage: 707 },
  { chapter: 7, section: '7.9.3', title: 'Diffuse Astrocytic and Oligodendroglial Tumors', startPage: 708, endPage: 711 },
  { chapter: 7, section: '7.9.4', title: 'Supratentorial Cortical Glial/Neuronal Tumors', startPage: 712, endPage: 713 },
  { chapter: 7, section: '7.9.5', title: 'Posterior Fossa Intra-axial Tumors', startPage: 714, endPage: 720 },
  { chapter: 7, section: '7.9.6', title: 'Intraventricular Tumors', startPage: 721, endPage: 723 },
  { chapter: 7, section: '7.9.7', title: 'CNS Lymphoma', startPage: 724, endPage: 725 },
  { chapter: 7, section: '7.9.8', title: 'Metastatic Disease', startPage: 725, endPage: 726 },
  { chapter: 7, section: '7.9.9', title: 'Primary Dural Neoplasms', startPage: 727, endPage: 727 },
  { chapter: 7, section: '7.9.10', title: 'Pineal Region Masses', startPage: 728, endPage: 730 },
  { chapter: 7, section: '7.10.1', title: 'White Matter Disease: Overview', startPage: 731, endPage: 731 },
  { chapter: 7, section: '7.10.2', title: 'Idiopathic/Autoimmune/Inflammatory White Matter Disease', startPage: 731, endPage: 733 },
  { chapter: 7, section: '7.10.3', title: 'Spinal Cord Inflammatory/Infectious Lesions', startPage: 734, endPage: 735 },
  { chapter: 7, section: '7.10.4', title: 'Vascular White Matter Disease', startPage: 734, endPage: 735 },
  { chapter: 7, section: '7.10.5', title: 'Infectious (Viral) White Matter Disease', startPage: 735, endPage: 736 },
  { chapter: 7, section: '7.10.6', title: 'Iatrogenic White Matter Disease', startPage: 736, endPage: 737 },
  { chapter: 7, section: '7.11.1', title: 'Metabolic Disorders', startPage: 738, endPage: 742 },
  { chapter: 7, section: '7.11.2', title: 'Drug-induced Toxicity', startPage: 742, endPage: 743 },
  { chapter: 7, section: '7.12.1', title: 'Autoimmune Encephalitis', startPage: 744, endPage: 745 },
  { chapter: 7, section: '7.13.1', title: 'Bacterial Brain Infection', startPage: 745, endPage: 746 },
  { chapter: 7, section: '7.13.2', title: 'Viral Brain Infection', startPage: 746, endPage: 747 },
  { chapter: 7, section: '7.13.3', title: 'Fungal Brain Infection', startPage: 747, endPage: 749 },
  { chapter: 7, section: '7.13.4', title: 'Parasitic Brain Infection', startPage: 750, endPage: 751 },
  { chapter: 7, section: '7.13.5', title: 'Prion Infection', startPage: 752, endPage: 752 },
  { chapter: 8, section: '8.1.1', title: 'Paranasal Sinuses: Overview', startPage: 754, endPage: 755 },
  { chapter: 8, section: '8.1.2', title: 'Sinonasal Anatomic Variants', startPage: 755, endPage: 756 },
  { chapter: 8, section: '8.1.3', title: 'Imaging of the Sinuses', startPage: 756, endPage: 756 },
  { chapter: 8, section: '8.1.4', title: 'Inflammatory Sinonasal Disease', startPage: 757, endPage: 760 },
  { chapter: 8, section: '8.1.5', title: 'Benign Non-inflammatory Sinonasal and Anterior Skull Base Lesions', startPage: 761, endPage: 764 },
  { chapter: 8, section: '8.1.6', title: 'Sinonasal Malignancies', startPage: 765, endPage: 766 },
  { chapter: 8, section: '8.2.1', title: 'Orbits: Overview', startPage: 767, endPage: 769 },
  { chapter: 8, section: '8.2.2', title: 'Orbital and Ocular Infection', startPage: 770, endPage: 771 },
  { chapter: 8, section: '8.2.3', title: 'Orbital Inflammatory Disorders', startPage: 772, endPage: 774 },
  { chapter: 8, section: '8.2.4', title: 'Multicompartmental Orbital Masses', startPage: 775, endPage: 776 },
  { chapter: 8, section: '8.2.5', title: 'Extraconal Masses', startPage: 776, endPage: 777 },
  { chapter: 8, section: '8.2.6', title: 'Intraconal Masses', startPage: 778, endPage: 779 },
  { chapter: 8, section: '8.2.7', title: 'Ocular Masses', startPage: 780, endPage: 781 },
  { chapter: 8, section: '8.2.8', title: 'Pediatric Ocular and Optic Nerve Non-neoplastic Disorders', startPage: 781, endPage: 782 },
  { chapter: 8, section: '8.2.9', title: 'Ocular Trauma', startPage: 782, endPage: 784 },
  { chapter: 8, section: '8.3.1', title: 'Facial Fractures', startPage: 785, endPage: 788 },
  { chapter: 8, section: '8.4.1', title: 'Salivary Glands: Overview', startPage: 789, endPage: 790 },
  { chapter: 8, section: '8.4.2', title: 'Benign Salivary Neoplasm', startPage: 790, endPage: 791 },
  { chapter: 8, section: '8.4.3', title: 'Malignant Parotid Neoplasm', startPage: 791, endPage: 792 },
  { chapter: 8, section: '8.4.4', title: 'Inflammatory Salivary Disease', startPage: 792, endPage: 793 },
  { chapter: 8, section: '8.4.5', title: 'Miscellaneous Salivary Lesions', startPage: 794, endPage: 794 },
  { chapter: 8, section: '8.5.1', title: 'Central Skull Base and Sella: Overview', startPage: 795, endPage: 797 },
  { chapter: 8, section: '8.5.2', title: 'Intrasellar Lesions', startPage: 797, endPage: 799 },
  { chapter: 8, section: '8.5.3', title: 'Suprasellar/Parasellar Mass', startPage: 800, endPage: 803 },
  { chapter: 8, section: '8.5.4', title: 'Clivus', startPage: 805, endPage: 806 },
  { chapter: 8, section: '8.5.5', title: 'Pterygopalatine Fossa', startPage: 807, endPage: 808 },
  { chapter: 8, section: '8.6.1', title: 'Temporal Bone: Overview', startPage: 809, endPage: 810 },
  { chapter: 8, section: '8.6.2', title: 'External Ear', startPage: 810, endPage: 811 },
  { chapter: 8, section: '8.6.3', title: 'Middle Ear and Mastoid', startPage: 812, endPage: 820 },
  { chapter: 8, section: '8.6.4', title: 'Inner Ear', startPage: 821, endPage: 825 },
  { chapter: 8, section: '8.6.5', title: 'Cerebellopontine Angle (CPA) Mass', startPage: 826, endPage: 828 },
  { chapter: 8, section: '8.6.6', title: 'Temporal Bone Fractures', startPage: 829, endPage: 830 },
  { chapter: 8, section: '8.6.7', title: 'Petrous Apex', startPage: 830, endPage: 832 },
  { chapter: 8, section: '8.6.8', title: 'Posterior Skull Base', startPage: 833, endPage: 834 },
  { chapter: 8, section: '8.7.1', title: 'Mucosal Spaces: Oral Cavity', startPage: 836, endPage: 841 },
  { chapter: 8, section: '8.7.2', title: 'Mucosal Spaces: Hypopharynx', startPage: 841, endPage: 841 },
  { chapter: 8, section: '8.7.3', title: 'Mucosal Spaces: Larynx', startPage: 842, endPage: 844 },
  { chapter: 8, section: '8.7.4', title: 'Other Malignant Neoplasms of the Mucosal Spaces', startPage: 844, endPage: 844 },
  { chapter: 8, section: '8.8.1', title: 'Extra-mucosal Neck Spaces: Overview', startPage: 845, endPage: 848 },
  { chapter: 8, section: '8.8.2', title: 'Infections of the Masticator Space', startPage: 849, endPage: 850 },
  { chapter: 8, section: '8.8.3', title: 'Approach to Tumors in the Masticator Space', startPage: 850, endPage: 850 },
  { chapter: 8, section: '8.8.4', title: 'Temporomandibular Joint (TMJ)', startPage: 850, endPage: 851 },
  { chapter: 8, section: '8.8.5', title: 'Other Benign Lesions/Masses of the Masticator Space', startPage: 852, endPage: 852 },
  { chapter: 8, section: '8.9.1', title: 'Cervical Lymph Nodes', startPage: 853, endPage: 854 },
  { chapter: 8, section: '8.10.1', title: 'Neck Infections: Ludwig Angina', startPage: 855, endPage: 855 },
  { chapter: 8, section: '8.10.2', title: 'Neck Infections: Retropharyngeal Abscess', startPage: 855, endPage: 855 },
  { chapter: 8, section: '8.10.3', title: 'Neck Infections: Peritonsillar Abscess', startPage: 855, endPage: 855 },
  { chapter: 8, section: '8.10.4', title: 'Neck Infections: Lemierre Syndrome', startPage: 855, endPage: 856 },
  { chapter: 8, section: '8.10.5', title: 'Neck Infections: Tuberculous Adenitis (Scrofula)', startPage: 856, endPage: 856 },
  { chapter: 8, section: '8.10.6', title: 'Neck Infections: Cat Scratch Fever', startPage: 856, endPage: 856 },
  { chapter: 8, section: '8.11.1', title: 'Diffuse Thyroid Disease', startPage: 856, endPage: 857 },
  { chapter: 8, section: '8.11.2', title: 'Thyroid Nodule and Thyroid Cancer', startPage: 857, endPage: 858 },
  { chapter: 8, section: '8.11.3', title: 'Parathyroid', startPage: 858, endPage: 859 },
  { chapter: 9, section: '9.1.1', title: 'Spine Lesion Localization Overview', startPage: 861, endPage: 861 },
  { chapter: 9, section: '9.2.1', title: 'Intramedullary Lesions: Overview', startPage: 862, endPage: 862 },
  { chapter: 9, section: '9.2.2', title: 'Intramedullary Spinal Cord Neoplasms', startPage: 862, endPage: 863 },
  { chapter: 9, section: '9.2.3', title: 'Spinal Cord Inflammatory/Infectious Lesions', startPage: 864, endPage: 866 },
  { chapter: 9, section: '9.2.4', title: 'Spinal Vascular Lesions', startPage: 867, endPage: 869 },
  { chapter: 9, section: '9.2.5', title: 'Spinal Cord Toxic/Metabolic Lesions', startPage: 869, endPage: 870 },
  { chapter: 9, section: '9.2.6', title: 'Spinal Cord Mechanical/Traumatic/Miscellaneous Lesions', startPage: 870, endPage: 870 },
  { chapter: 9, section: '9.3.1', title: 'Intradural Extramedullary Lesions: Overview', startPage: 871, endPage: 871 },
  { chapter: 9, section: '9.3.2', title: 'Intradural Extramedullary Spinal Neoplasms', startPage: 871, endPage: 873 },
  { chapter: 9, section: '9.3.3', title: 'Intradural Extramedullary Spinal Congenital/Developmental Lesions', startPage: 873, endPage: 878 },
  { chapter: 9, section: '9.3.4', title: 'Intradural Extramedullary Spinal Infectious/Inflammatory Lesions', startPage: 878, endPage: 878 },
  { chapter: 9, section: '9.4.1', title: 'Extradural Lesions: Overview', startPage: 879, endPage: 879 },
  { chapter: 9, section: '9.4.2', title: 'Extradural Spinal/Vertebral Neoplasms', startPage: 879, endPage: 880 },
  { chapter: 9, section: '9.4.3', title: 'Extradural Non-neoplastic Lesions', startPage: 880, endPage: 880 },
  { chapter: 9, section: '9.5.1', title: 'Degenerative Spine: Overview', startPage: 881, endPage: 884 },
  { chapter: 9, section: '9.5.2', title: 'Degenerative Spine Grading', startPage: 885, endPage: 889 },
  { chapter: 9, section: '9.6.1', title: 'Spine Infection', startPage: 890, endPage: 893 },
  { chapter: 9, section: '9.7.1', title: 'Extradural Spinal Metabolic Lesions', startPage: 893, endPage: 894 },
  { chapter: 9, section: '9.7.2', title: 'Pedicles and Pars', startPage: 895, endPage: 896 },
  { chapter: 9, section: '9.8.1', title: 'Spine Trauma: Three Column Concept', startPage: 897, endPage: 897 },
  { chapter: 9, section: '9.8.2', title: 'Cervical Spine Trauma', startPage: 898, endPage: 902 },
  { chapter: 9, section: '9.8.3', title: 'Thoracolumbar Spine Trauma', startPage: 903, endPage: 904 },
  { chapter: 9, section: '9.9.1', title: 'Postoperative Spine Imaging', startPage: 917, endPage: 919 },
  { chapter: 10, section: '10.1.1', title: 'Basics: Structure of Bone', startPage: 909, endPage: 909 },
  { chapter: 10, section: '10.1.2', title: 'Basics: Synovial Joint Anatomy', startPage: 909, endPage: 909 },
  { chapter: 10, section: '10.2.1', title: 'Arthritis: Osteoarthritis', startPage: 910, endPage: 913 },
  { chapter: 10, section: '10.2.2', title: 'Arthritis: Rheumatoid Arthritis', startPage: 914, endPage: 917 },
  { chapter: 10, section: '10.2.3', title: 'Arthritis: Seronegative Spondyloarthropathies', startPage: 918, endPage: 920 },
  { chapter: 10, section: '10.2.4', title: 'Arthritis: Connective Tissue Disorders', startPage: 921, endPage: 922 },
  { chapter: 10, section: '10.2.5', title: 'Arthritis: Crystal Arthropathies', startPage: 923, endPage: 928 },
  { chapter: 10, section: '10.2.6', title: 'Arthritis: Metabolic, Hematologic, and Miscellaneous', startPage: 929, endPage: 933 },
  { chapter: 10, section: '10.3.1', title: 'Bone Tumors: General Approach', startPage: 934, endPage: 936 },
  { chapter: 10, section: '10.3.2', title: 'Bone Tumors: Bone Forming (Osteo-)', startPage: 937, endPage: 943 },
  { chapter: 10, section: '10.3.3', title: 'Bone Tumors: Cartilage-forming (Chondro-)', startPage: 944, endPage: 950 },
  { chapter: 10, section: '10.3.4', title: 'Bone Tumors: Lesions of Fibrous Origin', startPage: 950, endPage: 952 },
  { chapter: 10, section: '10.3.5', title: 'Bone Tumors: Lesions of Vascular Origin', startPage: 953, endPage: 953 },
  { chapter: 10, section: '10.3.6', title: 'Bone Tumors: Lesions of Hematopoietic Origin', startPage: 954, endPage: 957 },
  { chapter: 10, section: '10.3.7', title: 'Bone Tumors: Fat (Lipo-) Lesions', startPage: 957, endPage: 957 },
  { chapter: 10, section: '10.3.8', title: 'Bone Tumors: Notochordal Lesions (Chordoma)', startPage: 957, endPage: 957 },
  { chapter: 10, section: '10.3.9', title: 'Bone Tumors: Lesions of Unknown Cell Origin', startPage: 958, endPage: 959 },
  { chapter: 10, section: '10.3.10', title: 'Bone Tumors: Osseous Metastasis', startPage: 959, endPage: 959 },
  { chapter: 10, section: '10.3.11', title: 'Benign Tumor Mimics', startPage: 959, endPage: 960 },
  { chapter: 10, section: '10.3.12', title: 'Differential Diagnosis of Common Bone Lesions', startPage: 960, endPage: 960 },
  { chapter: 10, section: '10.4.1', title: 'Soft Tissue Tumors: Lipomatous Neoplasms', startPage: 961, endPage: 963 },
  { chapter: 10, section: '10.4.2', title: 'Soft Tissue Tumors: Fibrolipomatous Hamartoma of Nerve', startPage: 964, endPage: 964 },
  { chapter: 10, section: '10.4.3', title: 'Soft Tissue Tumors: High-grade Sarcoma', startPage: 965, endPage: 965 },
  { chapter: 10, section: '10.4.4', title: 'Soft Tissue Tumors: Fibrous Neoplastic and Non-neoplastic Masses', startPage: 966, endPage: 967 },
  { chapter: 10, section: '10.4.5', title: 'Soft Tissue Tumors: Nerve Sheath Tumors', startPage: 968, endPage: 969 },
  { chapter: 10, section: '10.4.6', title: 'Soft Tissue Tumors: Additional Tumors', startPage: 970, endPage: 971 },
  { chapter: 10, section: '10.4.7', title: 'Soft Tissue Tumor Differential Diagnosis', startPage: 972, endPage: 972 },
  { chapter: 10, section: '10.5.1', title: 'MSK Infection: Septic Arthritis', startPage: 973, endPage: 973 },
  { chapter: 10, section: '10.5.2', title: 'MSK Infection: Osteomyelitis', startPage: 973, endPage: 979 },
  { chapter: 10, section: '10.5.3', title: 'MSK Infection: Soft-tissue Infections', startPage: 980, endPage: 980 },
  { chapter: 10, section: '10.6.1', title: 'Metabolic Bone Disease: Multifactorial (Osteoporosis)', startPage: 981, endPage: 982 },
  { chapter: 10, section: '10.6.2', title: 'Metabolic Bone Disease: Vitamin-deficiency', startPage: 982, endPage: 982 },
  { chapter: 10, section: '10.6.3', title: 'Metabolic Bone Disease: Endocrine', startPage: 982, endPage: 985 },
  { chapter: 10, section: '10.6.4', title: 'Metabolic Bone Disease: Idiopathic', startPage: 985, endPage: 989 },
  { chapter: 10, section: '10.7.1', title: 'Basics of Trauma: Traumatic Fractures', startPage: 991, endPage: 991 },
  { chapter: 10, section: '10.7.2', title: 'Basics of Trauma: Atraumatic Fractures', startPage: 992, endPage: 992 },
  { chapter: 10, section: '10.8.1', title: 'Basics of MRI: Tendons', startPage: 993, endPage: 994 },
  { chapter: 10, section: '10.9.1', title: 'Foot and Ankle: Forefoot', startPage: 995, endPage: 998 },
  { chapter: 10, section: '10.9.2', title: 'Foot and Ankle: Midfoot and Hindfoot Trauma', startPage: 1000, endPage: 1003 },
  { chapter: 10, section: '10.9.3', title: 'Foot and Ankle: Ankle Anatomy for MR', startPage: 1004, endPage: 1007 },
  { chapter: 10, section: '10.9.4', title: 'Foot and Ankle: Ankle Sprains', startPage: 1007, endPage: 1007 },
  { chapter: 10, section: '10.9.5', title: 'Foot and Ankle: Ankle Fractures', startPage: 1007, endPage: 1009 },
  { chapter: 10, section: '10.9.6', title: 'Foot and Ankle: Specific Tendon Injuries', startPage: 1010, endPage: 1011 },
  { chapter: 10, section: '10.9.7', title: 'Foot and Ankle: Deltoid Ligament Injury', startPage: 1012, endPage: 1012 },
  { chapter: 10, section: '10.10.1', title: 'Knee: Trauma', startPage: 1013, endPage: 1013 },
  { chapter: 10, section: '10.10.2', title: 'Knee: Menisci', startPage: 1014, endPage: 1019 },
  { chapter: 10, section: '10.10.3', title: 'Knee: Ligaments', startPage: 1020, endPage: 1024 },
  { chapter: 10, section: '10.10.4', title: 'Knee: Extensor Mechanism and Patella', startPage: 1025, endPage: 1026 },
  { chapter: 10, section: '10.10.5', title: 'Knee: Cartilage', startPage: 1027, endPage: 1029 },
  { chapter: 10, section: '10.10.6', title: 'Knee: Synovium', startPage: 1029, endPage: 1030 },
  { chapter: 10, section: '10.10.7', title: 'Knee: Soft Tissues', startPage: 1030, endPage: 1030 },
  { chapter: 10, section: '10.11.1', title: 'Hip: Anatomy', startPage: 1031, endPage: 1032 },
  { chapter: 10, section: '10.11.2', title: 'Hip: Acetabular Fracture', startPage: 1033, endPage: 1033 },
  { chapter: 10, section: '10.11.3', title: 'Hip: Fracture and Avascular Necrosis', startPage: 1033, endPage: 1042 },
  { chapter: 10, section: '10.11.4', title: 'Hip: Femoroacetabular Impingement (FAI)', startPage: 1042, endPage: 1044 },
  { chapter: 10, section: '10.12.1', title: 'Shoulder: Bony Anatomy', startPage: 1045, endPage: 1045 },
  { chapter: 10, section: '10.12.2', title: 'Shoulder: Acromioclavicular Joint', startPage: 1045, endPage: 1045 },
  { chapter: 10, section: '10.12.3', title: 'Shoulder: Bursae/Recesses', startPage: 1046, endPage: 1046 },
  { chapter: 10, section: '10.12.4', title: 'Shoulder: Coracoacromial Arch and Impingement', startPage: 1046, endPage: 1047 },
  { chapter: 10, section: '10.12.5', title: 'Shoulder: Rotator Cuff', startPage: 1047, endPage: 1050 },
  { chapter: 10, section: '10.12.6', title: 'Shoulder: Ligaments and Rotator Interval', startPage: 1051, endPage: 1052 },
  { chapter: 10, section: '10.12.7', title: 'Shoulder: Biceps Tendon', startPage: 1053, endPage: 1054 },
  { chapter: 10, section: '10.12.8', title: 'Shoulder: Instability', startPage: 1054, endPage: 1060 },
  { chapter: 10, section: '10.12.9', title: 'Shoulder: Miscellaneous Lesions (SLAP, GLAD, etc.)', startPage: 1061, endPage: 1064 },
  { chapter: 10, section: '10.13.1', title: 'Elbow and Forearm: Trauma', startPage: 1065, endPage: 1067 },
  { chapter: 10, section: '10.13.2', title: 'Elbow and Forearm: MRI', startPage: 1068, endPage: 1069 },
  { chapter: 10, section: '10.14.1', title: 'Wrist and Hand: Common Injuries', startPage: 1070, endPage: 1070 },
  { chapter: 10, section: '10.14.2', title: 'Wrist and Hand: Wrist Trauma', startPage: 1071, endPage: 1074 },
  { chapter: 10, section: '10.14.3', title: 'Wrist and Hand: Wrist MR', startPage: 1075, endPage: 1076 },
  { chapter: 10, section: '10.14.4', title: 'Wrist and Hand: Fingers and Hand Trauma', startPage: 1077, endPage: 1079 },
  { chapter: 10, section: '10.15.1', title: 'MSK Interventions: Arthrography', startPage: 1080, endPage: 1081 },
  { chapter: 10, section: '10.15.2', title: 'MSK Interventions: Biopsy', startPage: 1082, endPage: 1083 },
  { chapter: 11, section: '11.1.1', title: 'Pediatric Airway: Anatomy', startPage: 1085, endPage: 1085 },
  { chapter: 11, section: '11.1.2', title: 'Pediatric Upper Airway Obstruction', startPage: 1085, endPage: 1086 },
  { chapter: 11, section: '11.1.3', title: 'Pediatric Stridor', startPage: 1087, endPage: 1093 },
  { chapter: 11, section: '11.2.1', title: 'Pediatric Chest: Medical Respiratory Distress in Newborn', startPage: 1094, endPage: 1097 },
  { chapter: 11, section: '11.2.2', title: 'Pediatric Chest: Congenital Structural Disease', startPage: 1098, endPage: 1102 },
  { chapter: 11, section: '11.2.3', title: 'Pediatric Chest: Small Airways Disease', startPage: 1102, endPage: 1104 },
  { chapter: 11, section: '11.2.4', title: 'Pediatric Chest: Unilateral Hyperlucent Lung', startPage: 1104, endPage: 1104 },
  { chapter: 11, section: '11.2.5', title: 'Pediatric Mediastinal Masses', startPage: 1105, endPage: 1105 },
  { chapter: 11, section: '11.2.6', title: 'Pediatric Chest: Miscellaneous', startPage: 1106, endPage: 1106 },
  { chapter: 11, section: '11.3.1', title: 'Pediatric Cardiac: Approach to Plain Film', startPage: 1107, endPage: 1108 },
  { chapter: 11, section: '11.3.2', title: 'Acyanotic CHD', startPage: 1109, endPage: 1112 },
  { chapter: 11, section: '11.3.3', title: 'Cyanotic CHD', startPage: 1113, endPage: 1116 },
  { chapter: 11, section: '11.3.4', title: 'Common Surgeries for Congenital Heart Disease', startPage: 1118, endPage: 1120 },
  { chapter: 11, section: '11.3.5', title: 'Visceroatrial Situs', startPage: 1121, endPage: 1122 },
  { chapter: 11, section: '11.3.6', title: 'Cardiac Masses', startPage: 1122, endPage: 1123 },
  { chapter: 11, section: '11.4.1', title: 'Pediatric GI Emergencies', startPage: 1124, endPage: 1128 },
  { chapter: 11, section: '11.4.2', title: 'Congenital Gastroesophageal Disorders', startPage: 1129, endPage: 1130 },
  { chapter: 11, section: '11.4.3', title: 'Neonatal Bowel Obstruction: Overview', startPage: 1130, endPage: 1136 },
  { chapter: 11, section: '11.4.4', title: 'Congenital Low/Distal Bowel Obstruction', startPage: 1132, endPage: 1136 },
  { chapter: 11, section: '11.4.5', title: 'Childhood Bowel Obstruction', startPage: 1136, endPage: 1137 },
  { chapter: 11, section: '11.4.6', title: 'Anorectal Malformations', startPage: 1138, endPage: 1138 },
  { chapter: 11, section: '11.4.7', title: 'Neonatal Cholestatic Jaundice', startPage: 1139, endPage: 1140 },
  { chapter: 11, section: '11.4.8', title: 'Pediatric Hepatobiliary Neoplasia and Masses', startPage: 1140, endPage: 1144 },
  { chapter: 11, section: '11.4.9', title: 'Miscellaneous GI (Meconium, Calcification)', startPage: 1144, endPage: 1144 },
  { chapter: 11, section: '11.5.1', title: 'Pediatric GU: Hydronephrosis and Hydroureter', startPage: 1145, endPage: 1148 },
  { chapter: 11, section: '11.5.2', title: 'Pediatric GU: Congenital Renal Malformations', startPage: 1148, endPage: 1148 },
  { chapter: 11, section: '11.5.3', title: 'Pediatric GU: Cystic Renal Lesions', startPage: 1149, endPage: 1150 },
  { chapter: 11, section: '11.5.4', title: 'Pediatric GU: Malignant Solid Renal Masses', startPage: 1151, endPage: 1152 },
  { chapter: 11, section: '11.5.5', title: 'Pediatric GU: Benign Solid Renal Masses', startPage: 1153, endPage: 1154 },
  { chapter: 11, section: '11.5.6', title: 'Pediatric GU: Adrenal Mass Lesions', startPage: 1155, endPage: 1157 },
  { chapter: 11, section: '11.5.7', title: 'Pediatric GU: Cystic Pelvic Masses', startPage: 1158, endPage: 1158 },
  { chapter: 11, section: '11.5.8', title: 'Pediatric GU: Solid Pelvic Masses', startPage: 1158, endPage: 1158 },
  { chapter: 11, section: '11.6.1', title: 'Pediatric MSK: Fractures in Children', startPage: 1159, endPage: 1164 },
  { chapter: 11, section: '11.6.2', title: 'Pediatric MSK: Child Abuse / NAI', startPage: 1165, endPage: 1165 },
  { chapter: 11, section: '11.6.3', title: 'Pediatric Hip', startPage: 1166, endPage: 1169 },
  { chapter: 11, section: '11.6.4', title: 'Pediatric MSK: Infection and Inflammation', startPage: 1170, endPage: 1172 },
  { chapter: 11, section: '11.6.5', title: 'Pediatric MSK: Skeletal Dysplasias', startPage: 1173, endPage: 1176 },
  { chapter: 11, section: '11.6.6', title: 'Pediatric MSK: Metabolic Bone Disease', startPage: 1176, endPage: 1177 },
  { chapter: 11, section: '11.6.7', title: 'Pediatric MSK: Aggressive Bone Neoplasms', startPage: 1177, endPage: 1179 },
  { chapter: 11, section: '11.6.8', title: 'Pediatric MSK: Osteochondroses', startPage: 1180, endPage: 1180 },
  { chapter: 11, section: '11.6.9', title: 'Pediatric MSK: Periosteal Reaction', startPage: 1181, endPage: 1181 },
  { chapter: 11, section: '11.6.10', title: 'Pediatric MSK: Miscellaneous', startPage: 1182, endPage: 1182 },
  { chapter: 11, section: '11.7.1', title: 'Pediatric Neuro: Neonatal Brain Imaging', startPage: 1183, endPage: 1184 },
  { chapter: 11, section: '11.7.2', title: 'Pediatric Neuro: Congenital Malformations', startPage: 1184, endPage: 1188 },
  { chapter: 11, section: '11.7.3', title: 'Pediatric Neuro: Posterior Fossa Malformations', startPage: 1189, endPage: 1191 },
  { chapter: 11, section: '11.7.4', title: 'Pediatric Neuro: Phakomatoses', startPage: 1191, endPage: 1194 },
  { chapter: 11, section: '11.7.5', title: 'Pediatric Neuro: Midbrain Malformations', startPage: 1194, endPage: 1194 },
  { chapter: 11, section: '11.7.6', title: 'Pediatric Neuro: Brain Tumors', startPage: 1194, endPage: 1194 },
  { chapter: 12, section: '12.1.1', title: 'Contrast Media Reaction Overview', startPage: 1196, endPage: 1196 },
  { chapter: 12, section: '12.1.2', title: 'Classification of Contrast Reactions', startPage: 1197, endPage: 1197 },
  { chapter: 12, section: '12.1.3', title: 'Premedication to Prevent Contrast Reaction', startPage: 1196, endPage: 1196 },
  { chapter: 12, section: '12.1.4', title: 'Treatment of Contrast Reactions', startPage: 1198, endPage: 1198 },
  { chapter: 12, section: '12.2.1', title: 'Types of Iodinated Contrast', startPage: 1199, endPage: 1199 },
  { chapter: 12, section: '12.2.2', title: 'Contrast-Relative Kidney Injury (PC-AKI, CIN, Prevention)', startPage: 1199, endPage: 1199 },
  { chapter: 12, section: '12.2.3', title: 'Iodinated Intravenous Contrast: General Considerations', startPage: 1199, endPage: 1200 },
  { chapter: 12, section: '12.3.1', title: 'Immediate Adverse Reactions to Gadolinium-Based Contrast', startPage: 1201, endPage: 1201 },
  { chapter: 12, section: '12.3.2', title: 'Nephrogenic Systemic Fibrosis (NSF)', startPage: 1201, endPage: 1201 },
  { chapter: 12, section: '12.3.3', title: 'Gadolinium-Based Contrast in Pregnancy and Breast Feeding', startPage: 1201, endPage: 1201 },
  { chapter: 12, section: '12.4.1', title: 'Physics: Measuring Radiation', startPage: 1202, endPage: 1203 },
  { chapter: 12, section: '12.4.2', title: 'Physics: General Radiography', startPage: 1203, endPage: 1206 },
  { chapter: 12, section: '12.4.3', title: 'Physics: Mammography', startPage: 1207, endPage: 1208 },
  { chapter: 12, section: '12.4.4', title: 'Physics: Fluoroscopy', startPage: 1209, endPage: 1209 },
  { chapter: 12, section: '12.4.5', title: 'Physics: CT', startPage: 1209, endPage: 1209 },
  { chapter: 12, section: '12.4.6', title: 'Physics: Radiation Dosimetry', startPage: 1210, endPage: 1210 },
  { chapter: 12, section: '12.4.7', title: 'Physics: Image Quality', startPage: 1211, endPage: 1211 },
  { chapter: 12, section: '12.4.8', title: 'Physics: Statistics', startPage: 1211, endPage: 1211 },
  { chapter: 12, section: '12.4.9', title: 'Physics: Radiation Biology', startPage: 1212, endPage: 1214 },
  { chapter: 12, section: '12.4.10', title: 'Physics: MRI', startPage: 1214, endPage: 1216 },
  { chapter: 12, section: '12.4.11', title: 'Physics: Ultrasound', startPage: 1217, endPage: 1218 },
  { chapter: 12, section: '12.4.12', title: 'Physics: Nuclear Medicine', startPage: 1219, endPage: 1221 },
];

const enhancedCoreRadiologyResources: StudyResource[] = coreRadiologyToc.map((item, index) => {
    const pages = (item.endPage - item.startPage) + 1;
    const duration = readingDuration(pages);
    return {
        id: `core_rad_${item.section.replace(/\./g, '_')}`,
        title: `Core Radiology - ${item.section} ${item.title}`,
        domain: coreRadiologyChapterMap[item.chapter] || Domain.MIXED_REVIEW,
        type: ResourceType.READING_TEXTBOOK,
        durationMinutes: duration,
        pages: pages,
        startPage: item.startPage,
        endPage: item.endPage,
        bookSource: 'Core Radiology',
        chapterNumber: item.chapter,
        sequenceOrder: 4000 + index,
        isPrimaryMaterial: true,
        isSplittable: duration > 90,
        isArchived: false,
        isOptional: false,
        schedulingPriority: 'high',
    };
});

// Full, updated list from user-provided PDFs
const discordVideos = [
    {"category": "MSK", "title": "Dr. Eric Ledermann, Junior MSK Review", "duration": "01:00:29"},
    {"category": "MSK", "title": "Dr. Angel Gómez-Cintrón, MSK Case Review", "duration": "01:00:09"},
    {"category": "MSK", "title": "Dr. Eric Ledermann, MSK Case Review", "duration": "01:01:21"},
    {"category": "MSK", "title": "Dr. Brian Chan, MSK Case Review", "duration": "00:59:10"},
    {"category": "MSK", "title": "Dr. Navid Faraji, MSK Case Review", "duration": "01:02:29"},
    {"category": "MSK", "title": "Dr. Jonathan Samet, Pediatric MSK Jeopardy", "duration": "00:53:35"},
    {"category": "MSK", "title": "Dr. Angel Gómez-Cintrón, MSK Case Review 2", "duration": "01:00:13"},
    {"category": "MSK", "title": "Dr. Brian Chan from University of Utah", "duration": "01:00:48"},
    {"category": "MSK", "title": "Dr. Michael D. Darcy, IR Case Review (MSK Categorized)", "duration": "00:56:51"},
    {"category": "MSK", "title": "Dr. Michael Darcy, IR Case Review 2 (MSK Categorized)", "duration": "01:02:08"},
    {"category": "MSK", "title": "Dr. Jeffrey Chick, University of Washington (MSK Categorized)", "duration": "01:00:23"},
    {"category": "MSK", "title": "Dr. Sasha Ushinsky, MIR (MSK Categorized)", "duration": "00:59:57"},
    {"category": "NEURO", "title": "Dr. Rick Wiggins from University of Utah (Part 1)", "duration": "01:04:15"},
    {"category": "NEURO", "title": "Dr. Rick Wiggins from University of Utah (Part 2)", "duration": "01:01:21"},
    {"category": "NEURO", "title": "Dr. Burce Ozgen", "duration": "01:03:02"},
    {"category": "NEURO", "title": "Dr. Judith Gadde, Lurie childrens hospital", "duration": "01:00:12"},
    {"category": "NEURO", "title": "Dr. Rick Wiggins, Head and Neck Case Review I", "duration": "00:58:24"},
    {"category": "NEURO", "title": "Dr. Rick Wiggins, Head and Neck Case Review II", "duration": "00:58:19"},
    {"category": "NEURO", "title": "Dr. Ryan Peterson, Neuro Case Review +Bonus physics Q's", "duration": "00:59:38"},
    {"category": "NEURO", "title": "Dr. Nolan Kagetsu, Neuroradiology Case Review", "duration": "01:01:52"},
    {"category": "NEURO", "title": "Dr. Michael Hoch, Neuroradiology:Spine Case review", "duration": "01:01:52"},
    {"category": "NEURO", "title": "Dr. Judith Gadde, Pediatric Neuro Case Review", "duration": "01:02:08"},
    {"category": "NEURO", "title": "Dr. Brent Weinberg, Neuroradiology: Brain Tumors", "duration": "00:55:40"},
    {"category": "NEURO", "title": "Dr. Mohit Agarwal, Neuroradiology Case Review", "duration": "00:59:44"},
    {"category": "NEURO", "title": "Dr. Sarah Moum, Neuroradiology Case Review", "duration": "01:03:49"},
    {"category": "NEURO", "title": "Dr. Brent Weinberg, Neuroradiology: RAPID FIRE", "duration": "00:59:16"},
    {"category": "NEURO", "title": "Dr. Francis Deng, Neuroradiology/ENT Case Review", "duration": "00:59:18"},
    {"category": "NEURO", "title": "Dr. Justin McCloskey, Neuroradiology +Physics RAPID FIRE", "duration": "01:00:42"},
    {"category": "NEURO", "title": "Dr. David M. Yousem, Neuroradiology Case Review - Part 1", "duration": "01:01:31"},
    {"category": "NEURO", "title": "Dr. Ryan Peterson, Neuroradiology Case Review", "duration": "01:01:51"},
    {"category": "NEURO", "title": "Dr. Burce Ozgen, Head and Neck Case Review", "duration": "01:00:20"},
    {"category": "NEURO", "title": "Dr. David M. Yousem, Neuroradiology Case Review - Part 2", "duration": "01:00:03"},
    {"category": "NEURO", "title": "Dr. Mohit Agarwal, Neuroradiology Case Review", "duration": "01:02:19"},
    {"category": "NEURO", "title": "Dr. Brent Weinberg, Neuroradiology Case Review", "duration": "01:02:08"},
    {"category": "NEURO", "title": "Dr. Judith Gadde, Pediatric Neuroradiology Case Review", "duration": "00:59:22"},
    {"category": "BODY", "title": "Dr. Dell Dunn from University of Utah", "duration": "01:01:46"},
    {"category": "BODY", "title": "Dr. Gopal Punjabi, chairman of Hennepin", "duration": "01:05:46"},
    {"category": "BODY", "title": "Dr. Dell Dunn, GI/GU Case Review Session", "duration": "00:59:59"},
    {"category": "BODY", "title": "Dr. Anugayathri Jawahar, GU Case Review Session", "duration": "01:00:51"},
    {"category": "BODY", "title": "Dr. Ashkan Malayeri, GI/GU Case Review Session", "duration": "01:00:46"},
    {"category": "BODY", "title": "Dr. Rony Kampalath, GI/GU Case Review Session", "duration": "01:01:26"},
    {"category": "BODY", "title": "Dr. Mahan Mathur, GI/GU Case Review Session", "duration": "00:59:21"},
    {"category": "BODY", "title": "Dr. Aarti Sekhar, Body Case Review Session", "duration": "00:58:34"},
    {"category": "BODY", "title": "Dr. Matthew Davenport, Body Case Review Session", "duration": "00:59:36"},
    {"category": "BODY", "title": "Dr. Gopal Punjabi, Body 'Rapid Fire' Case Review", "duration": "01:01:13"},
    {"category": "BODY", "title": "Dr. Roopa Ram, Body Case Review Session", "duration": "00:58:47"},
    {"category": "BODY", "title": "Dr. Rony Kampalath, GI/GU Case Review Part 1", "duration": "01:02:18"},
    {"category": "BODY", "title": "Dr. Dell Dunn, GI/GU Case Review", "duration": "01:01:09"},
    {"category": "NIS", "title": "Dr. Justin McCloskey, NIS Session Part 2", "duration": "01:02:08"},
    {"category": "PEDS", "title": "Dr. Jeffrey Tutman, Pediatric Case Review", "duration": "01:02:17"},
    {"category": "PEDS", "title": "Dr. Erica Riedesel, Pediatric Case Review", "duration": "01:02:22"},
    {"category": "PEDS", "title": "Dr. Erica Riedesel, Pediatric Case Review Part 2", "duration": "01:02:51"},
    {"category": "PEDS", "title": "Dr. Nimisha Mehta, Pediatric Case Review", "duration": "00:59:16"},
    {"category": "PEDS", "title": "Dr. Jonathan Samet, Pediatric MSK Case Review", "duration": "00:56:56"},
    {"category": "NUCS", "title": "Dr. Philip Scherer, Nuclear Medicine Case Review Session", "duration": "01:02:35"},
    {"category": "PHYSICS", "title": "Dr. Ulrich Rassner, Physics Case Review Part 1", "duration": "01:05:45"},
    {"category": "PHYSICS", "title": "Dr. Ulrich Rassner, Physics Case Review Part 2", "duration": "01:04:14"},
    {"category": "PHYSICS", "title": "Dr. Ulrich Rassner, Physics Case Review Part 3", "duration": "01:01:54"},
    {"category": "BREAST", "title": "Dr. Nicole Winkler, Breast Case Review", "duration": "00:59:15"},
    {"category": "BREAST", "title": "Dr. Priscilla J. Slanetz, Breast MRI Case Review", "duration": "01:01:14"},
    {"category": "BREAST", "title": "Dr. Laura Heyneman, Thoracic Case Review Part 1", "duration": "01:01:21"},
    {"category": "BREAST", "title": "Dr. John Lichtenberger, Chest case review", "duration": "01:00:29"},
    {"category": "BREAST", "title": "Dr. Laura Heyneman, Chest case review", "duration": "01:00:46"},
    {"category": "BREAST", "title": "Dr. Christopher Francois, Cardiac CT/MRI Case Review", "duration": "00:59:58"},
    {"category": "BREAST", "title": "Dr. Laura Heyneman, Cardiac Case Review", "duration": "01:00:19"},
    {"category": "BREAST", "title": "Dr. Aws Hamid, Cardiac Case Review", "duration": "01:03:04"},
    {"category": "BREAST", "title": "Dr. Jeffrey Kanne, UW-Madison", "duration": "00:59:13"},
    {"category": "BREAST", "title": "Dr. Jeffrey Kanne, UW-Madison (Part 2)", "duration": "01:01:34"},
    {"category": "BREAST", "title": "Dr. Tan Lucien Mohammed, UF", "duration": "01:00:13"}
];

const discordVideoResources: StudyResource[] = discordVideos.map((vid, i): StudyResource => ({
    id: `discord_vid_${i}`,
    title: `${vid.title}`,
    domain: getResourceDomain(vid.category, vid.title),
    type: ResourceType.VIDEO_LECTURE,
    durationMinutes: durationToMinutes(vid.duration),
    videoSource: 'Discord Review Sessions',
    sequenceOrder: 3000 + i,
    isPrimaryMaterial: false,
    isSplittable: durationToMinutes(vid.duration) > 90,
    isArchived: false,
    isOptional: true,
}));

// ... [rest of the file content from prompt is included here]
// ... caseCompanionResources, titanVideoResources, crack the core resources, qbanks, etc.

const titanRadiologyVideos = [
    {"category": "Pancreas", "title": "Part 1 - Congenital Malformations, Cystic Lesions, Pancreatitis", "duration": "00:32:24"},
    {"category": "Pancreas", "title": "Part 2 - Solid Lesions, Trauma", "duration": "00:13:21"},
    {"category": "Liver", "title": "Part 1 - Diffuse Disease - Fat, Iron, and Associated Physics", "duration": "00:29:16"},
    {"category": "Liver", "title": "Part 2 - Focal Lesions, Infection, Biliary, Transplant", "duration": "00:35:17"},
    {"category": "Renal", "title": "Part 1 - Solid Lesions, Cystic Disease", "duration": "00:30:11"},
    {"category": "Renal", "title": "Part 2 - Renal Artery Stenosis, Captopril Nukes, Transplant", "duration": "00:19:53"},
    {"category": "Renal", "title": "Part 3 - Congenital Malformations, Urethral Cancer", "duration": "00:25:27"},
    {"category": "Renal", "title": "Special Topic - Miscellaneous Renal Diseases", "duration": "00:18:30"},
    {"category": "Reproductive", "title": "Female Reproductive_ Endometrial and Cervical Cancer", "duration": "00:32:24"},
    {"category": "Reproductive", "title": "Male Reproductive - Prostate and Testicular Cancer", "duration": "00:25:55"},
    {"category": "Reproductive", "title": "Special Topic - Reproductive - OB Ultrasound", "duration": "00:50:30"},
    {"category": "Abdominal Barium", "title": "Part 1 - Esophagus and Stomach", "duration": "00:39:21"},
    {"category": "Abdominal Barium", "title": "Part 2 - Small Bowel", "duration": "00:23:28"},
    {"category": "Abdominal Barium", "title": "Part 3 - Crohns, UC and a Review of Buzzwords", "duration": "00:14:56"},
    {"category": "Chest", "title": "Part 1 - Localization Signs, UIP-NSIP, Infections", "duration": "00:44:19"},
    {"category": "Chest", "title": "Part 2 - TB, Infections Misc, Trachea", "duration": "00:30:53"},
    {"category": "Thyroid", "title": "Hyperthryoidism, and Nukes Correlates", "duration": "00:25:47"},
    {"category": "Thyroid", "title": "Cancer and Nukes Correlates", "duration": "00:22:50"},
    {"category": "Parathyroid", "title": "Adenoma, Cancer, and Nukes Correlates", "duration": "00:08:02"},
    {"category": "Musculoskeletal", "title": "Part 1 - Trauma, Osteochondrosis, Coalition", "duration": "00:38:48"},
    {"category": "Musculoskeletal", "title": "Part 2 - Athritis", "duration": "00:16:51"},
    {"category": "Musculoskeletal", "title": "Part 3 - Benign (Cystic) and Malignant Bone Tumors", "duration": "00:38:02"},
    {"category": "Musculoskeletal", "title": "Part 4 - MR Joints", "duration": "00:46:55"},
    {"category": "MSK Special Topic", "title": "Denervation - MRI Shoulder Patterns, Acute and Chronic Denervation Changes", "duration": "00:16:37"},
    {"category": "Musculoskeletal", "title": "Special Topic - MSK Ultrasound", "duration": "00:26:11"},
    {"category": "Neuro", "title": "Part 1 - Skull Base and Vascular Anatomy", "duration": "00:29:01"},
    {"category": "Neuro", "title": "Part 2 - Temporal Bone", "duration": "00:32:03"},
    {"category": "Neuro", "title": "Part 3 - Demyelinating/Toxic", "duration": "00:17:35"},
    {"category": "Neuro", "title": "Part 4 - Tumors", "duration": "00:36:22"},
    {"category": "Neuro", "title": "Part 5 - SAH, Aneurysms, Stroke, Vascular Malformations", "duration": "00:41:59"},
    {"category": "Neuro", "title": "Part 6 - Blood Age, Trauma - Face Smash, LeForts, NAT", "duration": "00:22:01"},
    {"category": "Neuro", "title": "Part 7 - Infections", "duration": "00:24:24"},
    {"category": "Neuro", "title": "Part 8 - Spine", "duration": "00:28:45"},
    {"category": "Neuro Special Topic", "title": "Head and Neck, Sinus Tumors", "duration": "00:14:50"},
    {"category": "Pediatric", "title": "Part 1 - Airway, Chest", "duration": "00:24:02"},
    {"category": "Pediatric", "title": "Part 2 - GI", "duration": "00:26:56"},
    {"category": "Pediatric", "title": "Part 3 - MSK", "duration": "00:24:12"},
    {"category": "Pediatric", "title": "Part 4 - Heterotaxia, Solid Tumors - Liver - Kidney", "duration": "00:22:34"},
    {"category": "Pediatric", "title": "Part 5 - Neuro - Congenital Malformations", "duration": "00:22:03"},
    {"category": "Pediatric", "title": "Part 6 - Skull", "duration": "00:48:38"},
    {"category": "Cardiac", "title": "Part 1 - CXR Analysis, Valves", "duration": "00:55:19"},
    {"category": "Cardiac", "title": "Part 2 - Congenital Heart Surgeries", "duration": "00:20:53"},
    {"category": "Cardiac", "title": "Part 3 - Cardiac MRI", "duration": "00:31:22"},
    {"category": "Cardiac", "title": "Part 4 - Cardiac Nukes", "duration": "00:31:57"},
    {"category": "Cardiac", "title": "Special Topic - Coronary", "duration": "00:12:04"},
    {"category": "Breast Imaging", "title": "Part 1 - Introduction", "duration": "00:32:06"},
    {"category": "Breast Imaging", "title": "Part 2 - Cancer and Ultrasound", "duration": "00:33:23"},
    {"category": "Breast Imaging", "title": "Part 3 - Benign Disease", "duration": "00:26:05"},
    {"category": "Breast Imaging", "title": "Part 4 - Male Breast Disease", "duration": "00:13:20"},
    {"category": "Breast Imaging", "title": "Part 5 - MRI 1", "duration": "00:29:20"},
    {"category": "Breast Imaging", "title": "Part 6 - MRI 2", "duration": "00:15:13"},
    {"category": "Breast Imaging", "title": "Special Topic - Mammo Procedures - Part 1", "duration": "00:38:51"},
    {"category": "Breast Imaging", "title": "Special Topic - Mammo Procedures - Part 2", "duration": "00:22:47"},
    {"category": "Nuclear", "title": "Part 1 - Mystery Whole Body Scans", "duration": "00:15:24"},
    {"category": "Nuclear", "title": "Part 2 - Bone Scan", "duration": "00:37:52"},
    {"category": "Nuclear", "title": "Part 3 - Pulmonary (VQ)", "duration": "00:27:08"},
    {"category": "Nuclear", "title": "Part 4 - GI (HIDA, Bleeding Scan, Sulfur Colloid)", "duration": "00:24:04"},
    {"category": "Nuclear", "title": "Special Topic - PET and SPECT", "duration": "00:32:35"},
    {"category": "Nuclear", "title": "Special Topic - Non-PET Cancer Part 1 (MIBG)", "duration": "00:22:05"},
    {"category": "Nuclear", "title": "Special Topic - Non-PET Cancer Part 2 (Octreotide)", "duration": "00:21:35"},
    {"category": "Nuclear", "title": "Special Topic - CNS (Seizure Scans, Dementia, CSF)", "duration": "00:26:27"},
    {"category": "Nuclear", "title": "Special Topic - Mechanisms of Radiopharmaceutical", "duration": "00:25:59"},
    {"category": "Interventional and Vascular Radiology", "title": "Part 1", "duration": "00:30:16"},
    {"category": "Interventional and Vascular Radiology", "title": "Part 2 - Carotid US, Aortic Dissection, Misc Vascular", "duration": "00:58:34"},
    {"category": "Interventional and Vascular Radiology", "title": "IR Special topic - HD Grafts-Fistulas", "duration": "00:27:13"},
    {"category": "Interventional and Vascular Radiology", "title": "IR Special Topic - Urinary Access, Diversion", "duration": "00:28:02"},
    {"category": "Interventional and Vascular Radiology", "title": "CV Special Topic - Venous Ultrasound", "duration": "00:14:32"},
    {"category": "Interventional and Vascular Radiology", "title": "Special Topic - CV - Doppler Flow Dynamics", "duration": "00:35:59"},
    {"category": "Physics Remastered", "title": "X-ray - Intro to Basic Science", "duration": "00:26:49"},
    {"category": "Physics Remastered", "title": "X-ray - Characteristic and Breaking Radiation", "duration": "00:15:42"},
    {"category": "Physics Remastered", "title": "X-ray - Machine", "duration": "00:18:05"},
    {"category": "Physics Remastered", "title": "X-ray - Heel Effect", "duration": "00:19:25"},
    {"category": "Physics Remastered", "title": "X-ray - Quality and Quantity", "duration": "00:25:40"},
    {"category": "Physics Remastered", "title": "X-ray - Filtration", "duration": "00:24:45"},
    {"category": "Physics Remastered", "title": "X-ray - Interactions with Matter", "duration": "00:25:55"},
    {"category": "Physics Remastered", "title": "X-ray - K-edge and Contrast", "duration": "00:26:29"},
    {"category": "Physics Remastered", "title": "X-ray - Mass and Linear Attenuation", "duration": "00:25:06"},
    {"category": "Physics", "title": "X-Ray - Generation and Production", "duration": "00:45:13"},
    {"category": "Physics", "title": "X-Ray - Interaction with Matter", "duration": "00:17:32"},
    {"category": "Physics", "title": "X-Ray - Concepts", "duration": "00:16:29"},
    {"category": "Physics", "title": "Breast Imaging", "duration": "00:15:47"},
    {"category": "Physics", "title": "Fluoro - IR", "duration": "00:29:59"},
    {"category": "Physics", "title": "CT - Basics", "duration": "00:31:39"},
    {"category": "Physics", "title": "CT - Artifacts", "duration": "00:16:34"},
    {"category": "Physics", "title": "Ultrasound Part 1 - Reflection, Refraction, Attenuation", "duration": "00:43:15"},
    {"category": "Physics", "title": "Ultrasound Part 2 - Doppler, Compound Imaging, Har", "duration": "00:15:53"},
    {"category": "Physics", "title": "Ultrasound Part 3 - Artifacts", "duration": "00:18:01"},
    {"category": "Physics", "title": "MRI - Basics", "duration": "00:33:37"},
    {"category": "Physics", "title": "MRI - Encoding", "duration": "00:19:12"},
    {"category": "Physics", "title": "MRI - Sequences", "duration": "00:24:34"},
    {"category": "Physics", "title": "MRI - Special Topic - MRI Safety", "duration": "00:31:22"},
    {"category": "Physics", "title": "MRI - Artifacts", "duration": "00:27:27"},
    {"category": "Physics", "title": "MRI Special Topic - Slice Thickness vs Table Time", "duration": "00:09:12"},
    {"category": "Physics", "title": "Nukes - Basic Concepts", "duration": "00:34:54"},
    {"category": "Physics", "title": "MRI - Special Topic - Blood age", "duration": "00:44:35"},
    {"category": "Physics", "title": "Physics MCQ Review - Part 1", "duration": "00:53:25"},
    {"category": "Physics", "title": "Physics MCQ Review - Part 2", "duration": "00:35:36"},
    {"category": "Physics", "title": "Physics MCQ Review _ Part 3", "duration": "00:30:27"}
];

const titanVideoResources: StudyResource[] = titanRadiologyVideos.map((vid, i) => ({
    id: `titan_vid_${i}`,
    title: `Titan Videos - ${vid.category} - ${vid.title}`,
    domain: getResourceDomain(vid.category, vid.title),
    type: ResourceType.VIDEO_LECTURE,
    durationMinutes: durationToMinutes(vid.duration),
    videoSource: 'Titan Radiology Videos',
    sequenceOrder: 1500 + i,
    isPrimaryMaterial: true,
    isSplittable: durationToMinutes(vid.duration) > 90,
    isArchived: false,
    isOptional: false,
    schedulingPriority: 'high'
}));

// This section generates reading tasks from Crack the Core books.
const createCtcReadingResources = (
    vol: number, 
    chapterNum: number, 
    domain: Domain, 
    sequenceStart: number, 
    pageCount: number, 
    avgMinsPerSection: number, 
    sectionTitles: string[]
): StudyResource[] => {
    return sectionTitles.map((title, i) => ({
        id: `ctc${vol}_ch${chapterNum}_sec${i+1}_read`,
        title: `CTC Vol ${vol} Ch ${chapterNum} - ${title}`,
        domain,
        type: ResourceType.READING_TEXTBOOK,
        durationMinutes: avgMinsPerSection,
        pages: Math.round(pageCount / sectionTitles.length),
        bookSource: `Crack the Core Volume ${vol}`,
        chapterNumber: chapterNum,
        sequenceOrder: sequenceStart + i,
        isPrimaryMaterial: true,
        isSplittable: false,
        isArchived: false,
        isOptional: false,
        schedulingPriority: 'high',
    }));
};

const ctcResources: StudyResource[] = [
    // Volume 1
    ...createCtcReadingResources(1, 2, Domain.THORACIC_IMAGING, 2000, 68, 15, ["Anatomy", "Atelectasis", "CXR Localization", "Infection", "Lung Cancer", "Congenital", "Cystic Lung Disease", "Pneumoconiosis", "ILDS", "Transplant", "Alveolar", "Airways", "Systemic", "Pleura", "Mediastinal Masses", "Pulmonary Arteries", "Trauma", "Lines and Devices"]),
    ...createCtcReadingResources(1, 3, Domain.CARDIOVASCULAR_IMAGING, 2100, 31, 15, ["Chambers", "Coronaries", "Valves", "Great Vessels", "Congenital Heart", "Ischemic Heart", "Non-Ischemic Heart", "Genetics", "Tumors", "Pericardium", "Surgeries"]),
    ...createCtcReadingResources(1, 4, Domain.PEDIATRIC_RADIOLOGY, 2200, 104, 15, ["Skull & Scalp", "Brain", "Head and Neck", "Airway", "Chest", "Mediastinal Masses", "Luminal GI", "Solid Organ GI", "Congenital GU", "Solid Organ GU", "Adrenal", "Reproductive", "MSK", "Pediatric Spine"]),
    ...createCtcReadingResources(1, 5, Domain.GASTROINTESTINAL_IMAGING, 2300, 86, 20, ["Luminal", "Peritoneal Cavity", "Liver / Biliary", "Gallbladder", "Hepatic Doppler", "Pancreas", "Surgical", "Spleen"]),
    ...createCtcReadingResources(1, 6, Domain.GENITOURINARY_IMAGING, 2400, 41, 15, ["Anatomy / Congenital", "Renal Masses", "Cystic Disease", "Infection", "Calcifications", "Perfusion / Vascular", "Transplant", "Renal Trauma", "Ureter", "Ureteral Masses", "Bladder", "Urethra"]),
    ...createCtcReadingResources(1, 7, Domain.GENITOURINARY_IMAGING, 2450, 67, 12, ["Congenital", "Acquired", "Uterus/Vagina Masses", "Ovary / Adnexa", "Ovarian Cancer", "Random Ovarian Path", "Dong Bone", "Prostate", "Misc Male", "Testicular Cancer", "Male Infertility", "Transgender", "Early Pregnancy", "Placenta and Cord", "Congenital Fetal", "Maternal Disorders", "Multiple Gestations"]),
    ...createCtcReadingResources(1, 8, Domain.NUCLEAR_MEDICINE, 2500, 18, 20, ["Adrenal", "Syndromes", "Thyroid", "Para-Thyroid"]), // Endocrine mapped to Nucs
    ...createCtcReadingResources(1, 9, Domain.NUCLEAR_MEDICINE, 2550, 77, 15, ["What Scan Is It?", "Skeleton", "Pulmonary", "Thyroid", "Parathyroid", "CNS", "GI Nukes", "GU Nukes", "PET for Cancer", "Non-PET for Cancer", "Cardiac", "Therapy", "High Yield"]),
    // Volume 2
    ...createCtcReadingResources(2, 10, Domain.MUSCULOSKELETAL_IMAGING, 2600, 117, 20, ["Trauma and Overuse", "Osteoporosis, Osteopenia, & AVN", "Infection", "Aggressive Lesions", "Lucent Lesions", "Trivia", "Soft Tissue Masses", "Arthritis", "Marrow", "Ultrasound", "Procedures"]),
    ...createCtcReadingResources(2, 11, Domain.NEURORADIOLOGY, 2700, 164, 15, ["Anatomy", "Brain Development", "Volume & Edema", "Metabolic & Toxic", "Neuro-Degenerative", "MRS, Leukodystrophies", "Brain Tumors", "Infection", "Brain Trauma & Bleeding", "Vascular", "Face Smash and T-Bone", "Temporal Bone", "Skull Base & Sinuses", "Mouth & Jaw", "Suprahyoid Neck", "Infrahyoid Neck", "Orbits", "Spine", "Seatbelts", "Spine Specific Vascular", "Cord Pathology"]),
    ...createCtcReadingResources(2, 12, Domain.CARDIOVASCULAR_IMAGING, 2850, 40, 15, ["Anatomy", "Acute Aortic Syndromes", "Aneurysm, Misc", "Mesenteric Ischemia", "Misc", "Extremity", "Vasculitis", "Carotid Doppler"]),
    ...createCtcReadingResources(2, 13, Domain.INTERVENTIONAL_RADIOLOGY, 2900, 94, 12, ["Instruments of Intervention", "PTA and Stents", "Stent Grafts", "Embolization", "Acute Limb", "Filters", "Dialysis", "TIPS & BRTO", "Hepatic & Biliary Intervention", "Luminal GI", "Abscess Drainage", "Urinary Intervention", "Pulmonary Intervention", "Reproductive Intervention", "Misc Topics"]),
    ...createCtcReadingResources(2, 14, Domain.BREAST_IMAGING, 3000, 66, 10, ["Anatomy", "Technique & Artifacts", "Localization", "BI-RADS", "Calcifications", "Benign Path", "Cancer", "Symptomatic", "Architectural Distortion", "Lymph Nodes", "Male Breast", "Implants", "Post Op / Post Therapy", "Breast MRI", "Risk", "ACR Appropriateness", "Procedures", "MQSA", "Scenario / Review"]),
];

const caseCompanionResources: StudyResource[] = [
    // Part 1: Aunt Minnie's
    { id: 'cc_am_neuro', title: "Case Companion - Aunt Minnie's: Neuro", domain: Domain.NEURORADIOLOGY, type: ResourceType.CASES, durationMinutes: 19, caseCount: 19 },
    { id: 'cc_am_msk', title: "Case Companion - Aunt Minnie's: MSK", domain: Domain.MUSCULOSKELETAL_IMAGING, type: ResourceType.CASES, durationMinutes: 24, caseCount: 24 },
    { id: 'cc_am_cardiac', title: "Case Companion - Aunt Minnie's: Cardiac", domain: Domain.CARDIOVASCULAR_IMAGING, type: ResourceType.CASES, durationMinutes: 10, caseCount: 10 },
    { id: 'cc_am_thoracic', title: "Case Companion - Aunt Minnie's: Thoracic", domain: Domain.THORACIC_IMAGING, type: ResourceType.CASES, durationMinutes: 6, caseCount: 6 },
    { id: 'cc_am_gi', title: "Case Companion - Aunt Minnie's: GI", domain: Domain.GASTROINTESTINAL_IMAGING, type: ResourceType.CASES, durationMinutes: 11, caseCount: 11 },
    { id: 'cc_am_gu', title: "Case Companion - Aunt Minnie's: GU/Gyn/Repro", domain: Domain.GENITOURINARY_IMAGING, type: ResourceType.CASES, durationMinutes: 14, caseCount: 14 },
    { id: 'cc_am_nukes', title: "Case Companion - Aunt Minnie's: Nukes", domain: Domain.NUCLEAR_MEDICINE, type: ResourceType.CASES, durationMinutes: 4, caseCount: 4 },
    { id: 'cc_am_peds', title: "Case Companion - Aunt Minnie's: Peds", domain: Domain.PEDIATRIC_RADIOLOGY, type: ResourceType.CASES, durationMinutes: 10, caseCount: 10 },
    { id: 'cc_am_mammo', title: "Case Companion - Aunt Minnie's: Mammo", domain: Domain.BREAST_IMAGING, type: ResourceType.CASES, durationMinutes: 3, caseCount: 3 },
    { id: 'cc_am_ir', title: "Case Companion - Aunt Minnie's: Vascular/IR", domain: Domain.INTERVENTIONAL_RADIOLOGY, type: ResourceType.CASES, durationMinutes: 5, caseCount: 5 },
    { id: 'cc_am_physics', title: "Case Companion - Aunt Minnie's: Physics", domain: Domain.PHYSICS, type: ResourceType.CASES, durationMinutes: 17, caseCount: 17 },
    { id: 'cc_am_nis', title: "Case Companion - Aunt Minnie's: NIS", domain: Domain.NIS, type: ResourceType.CASES, durationMinutes: 5, caseCount: 5 },
    // Part 2: This vs That
    { id: 'cc_tvt_neuro', title: 'Case Companion - This vs That: Neuro', domain: Domain.NEURORADIOLOGY, type: ResourceType.CASES, durationMinutes: 12, caseCount: 12 },
    { id: 'cc_tvt_msk', title: 'Case Companion - This vs That: MSK', domain: Domain.MUSCULOSKELETAL_IMAGING, type: ResourceType.CASES, durationMinutes: 3, caseCount: 3 },
    { id: 'cc_tvt_thoracic', title: 'Case Companion - This vs That: Thoracic', domain: Domain.THORACIC_IMAGING, type: ResourceType.CASES, durationMinutes: 4, caseCount: 4 },
    { id: 'cc_tvt_gi', title: 'Case Companion - This vs That: GI', domain: Domain.GASTROINTESTINAL_IMAGING, type: ResourceType.CASES, durationMinutes: 5, caseCount: 5 },
    { id: 'cc_tvt_gu', title: 'Case Companion - This vs That: GYN/Repro', domain: Domain.GENITOURINARY_IMAGING, type: ResourceType.CASES, durationMinutes: 2, caseCount: 2 },
    { id: 'cc_tvt_peds', title: 'Case Companion - This vs That: Peds', domain: Domain.PEDIATRIC_RADIOLOGY, type: ResourceType.CASES, durationMinutes: 6, caseCount: 6 },
    { id: 'cc_tvt_nukes', title: 'Case Companion - This vs That: Nukes', domain: Domain.NUCLEAR_MEDICINE, type: ResourceType.CASES, durationMinutes: 9, caseCount: 9 },
    { id: 'cc_tvt_mammo', title: 'Case Companion - This vs That: Mammo', domain: Domain.BREAST_IMAGING, type: ResourceType.CASES, durationMinutes: 3, caseCount: 3 },
    { id: 'cc_tvt_ir', title: 'Case Companion - This vs That: Vascular/IR', domain: Domain.INTERVENTIONAL_RADIOLOGY, type: ResourceType.CASES, durationMinutes: 5, caseCount: 5 },
    // Part 3: Anatomy
    { id: 'cc_ana_neuro', title: 'Case Companion - Anatomy: Neuro', domain: Domain.NEURORADIOLOGY, type: ResourceType.CASES, durationMinutes: 11, caseCount: 11 },
    { id: 'cc_ana_ir', title: 'Case Companion - Anatomy: Vascular/Angio', domain: Domain.INTERVENTIONAL_RADIOLOGY, type: ResourceType.CASES, durationMinutes: 8, caseCount: 8 },
    { id: 'cc_ana_cardiac', title: 'Case Companion - Anatomy: Cardiac', domain: Domain.CARDIOVASCULAR_IMAGING, type: ResourceType.CASES, durationMinutes: 2, caseCount: 2 },
    { id: 'cc_ana_gu_us', title: 'Case Companion - Anatomy: Abd US/Prostate', domain: Domain.GENITOURINARY_IMAGING, type: ResourceType.CASES, durationMinutes: 2, caseCount: 2 },
    { id: 'cc_ana_msk', title: 'Case Companion - Anatomy: MSK', domain: Domain.MUSCULOSKELETAL_IMAGING, type: ResourceType.CASES, durationMinutes: 4, caseCount: 4 },
    { id: 'cc_ana_nukes', title: 'Case Companion - Anatomy: Nukes Mystery', domain: Domain.NUCLEAR_MEDICINE, type: ResourceType.CASES, durationMinutes: 3, caseCount: 3 },
].map((res, index) => ({
    ...res,
    bookSource: 'Crack the Core Case Companion',
    sequenceOrder: 1050 + index, // Place them after main textbook/video content
    isPrimaryMaterial: true,
    isSplittable: false,
    isArchived: false,
    isOptional: false,
    schedulingPriority: 'high',
} as StudyResource));

let initialResourcePool: StudyResource[] = [
    ...enhancedCoreRadiologyResources,
    ...ctcResources,
    ...caseCompanionResources,
    ...titanVideoResources,
    ...discordVideoResources,
    // GUIDES
    { id: 'guide_risc_2025', title: 'RISC Study Guide 2025', domain: Domain.RISC, type: ResourceType.READING_GUIDE, pages: 57, durationMinutes: readingDuration(57), bookSource: 'RISC Study Guide', sequenceOrder: 1101, isPrimaryMaterial: true, isSplittable: (readingDuration(57) || 0) > 90, isArchived: false, isOptional: false, schedulingPriority: 'high' },
    { id: 'guide_nis_2025', title: 'Noninterpretive Skills Study Guide 2025', domain: Domain.NIS, type: ResourceType.READING_GUIDE, pages: 68, durationMinutes: readingDuration(68), bookSource: 'NIS Study Guide', sequenceOrder: 1102, isPrimaryMaterial: true, isSplittable: (readingDuration(68) || 0) > 90, isArchived: false, isOptional: false, schedulingPriority: 'high' },
    // QUESTION BANKS
    ...createQBankChunks('qevlar_peds', 'QEVLAR - Peds', Domain.PEDIATRIC_RADIOLOGY, 321, 'QEVLAR', 5000, 'low'),
    ...createQBankChunks('qevlar_msk', 'QEVLAR – MSK', Domain.MUSCULOSKELETAL_IMAGING, 202, 'QEVLAR', 5010, 'low'),
    ...createQBankChunks('qevlar_ir', 'QEVLAR - IR', Domain.INTERVENTIONAL_RADIOLOGY, 88, 'QEVLAR', 5020, 'low'),
    ...createQBankChunks('qevlar_thoracic', 'QEVLAR - Thoracic', Domain.THORACIC_IMAGING, 268, 'QEVLAR', 5030, 'low'),
    ...createQBankChunks('qevlar_neuro', 'QEVLAR - Neuro', Domain.NEURORADIOLOGY, 123, 'QEVLAR', 5040, 'low'),
    ...createQBankChunks('qevlar_gi', 'QEVLAR - GI', Domain.GASTROINTESTINAL_IMAGING, 217, 'QEVLAR', 5050, 'low'),
    ...createQBankChunks('qevlar_gu', 'QEVLAR - GU', Domain.GENITOURINARY_IMAGING, 111, 'QEVLAR', 5060, 'low'),
    ...createQBankChunks('qevlar_breast', 'QEVLAR - Breast', Domain.BREAST_IMAGING, 227, 'QEVLAR', 5070, 'low'),
    ...createQBankChunks('qevlar_cv', 'QEVLAR – Cardiac/Vascular', Domain.CARDIOVASCULAR_IMAGING, 108, 'QEVLAR', 5080, 'low'),
    ...createQBankChunks('qevlar_nis', 'QEVLAR - NIS', Domain.NIS, 50, 'QEVLAR', 5090, 'low'),
    ...createQBankChunks('qevlar_other', 'QEVLAR - Other Topics', Domain.MIXED_REVIEW, 398, 'QEVLAR', 5095, 'low'),
    ...createQBankChunks('qevlar_reproendo', 'QEVLAR - Repro + Endo', Domain.MIXED_REVIEW, 80, 'QEVLAR', 5105, 'low'),
    ...createQBankChunks('boardv_breast', 'Board Vitals - Breast', Domain.BREAST_IMAGING, 111, 'Board Vitals', 6100, 'medium'),
    ...createQBankChunks('boardv_cv', 'Board Vitals - Cardiac/Vascular', Domain.CARDIOVASCULAR_IMAGING, 79, 'Board Vitals', 6110, 'medium'),
    ...createQBankChunks('boardv_gi', 'Board Vitals - GI', Domain.GASTROINTESTINAL_IMAGING, 99, 'Board Vitals', 6120, 'medium'),
    ...createQBankChunks('boardv_gu', 'Board Vitals - GU', Domain.GENITOURINARY_IMAGING, 100, 'Board Vitals', 6130, 'medium'),
    ...createQBankChunks('boardv_ir', 'Board Vitals - IR', Domain.INTERVENTIONAL_RADIOLOGY, 53, 'Board Vitals', 6140, 'medium'),
    ...createQBankChunks('boardv_msk', 'Board Vitals - MSK', Domain.MUSCULOSKELETAL_IMAGING, 162, 'Board Vitals', 6150, 'medium'),
    ...createQBankChunks('boardv_neuro', 'Board Vitals - Neuro', Domain.NEURORADIOLOGY, 171, 'Board Vitals', 6160, 'medium'),
    ...createQBankChunks('boardv_nis', 'Board Vitals - NIS', Domain.NIS, 86, 'Board Vitals', 6170, 'medium'),
    ...createQBankChunks('boardv_nucs', 'Board Vitals - Nuclear', Domain.NUCLEAR_MEDICINE, 98, 'Board Vitals', 6180, 'medium'),
    ...createQBankChunks('boardv_peds', 'Board Vitals - Peds', Domain.PEDIATRIC_RADIOLOGY, 70, 'Board Vitals', 6190, 'medium'),
    ...createQBankChunks('boardv_phys', 'Board Vitals - Physics', Domain.PHYSICS, 88, 'Board Vitals', 6200, 'medium'),
    ...createQBankChunks('boardv_thoracic', 'Board Vitals - Thoracic', Domain.THORACIC_IMAGING, 60, 'Board Vitals', 6210, 'medium'),
    ...createQBankChunks('boardv_us', 'Board Vitals – Ultrasound', Domain.ULTRASOUND_IMAGING, 90, 'Board Vitals', 6220, 'medium'),
    ...createQBankChunks('boardv_quickhits', 'Board Vitals - Quick Hits', Domain.MIXED_REVIEW, 23, 'Board Vitals', 6230, 'medium'),
    ...createQBankChunks('boardv_radsafety', 'Board Vitals - Radiation Safety', Domain.RISC, 49, 'Board Vitals', 6235, 'medium'),
    ...createQBankChunks('nucapp_radgen', 'NucApp - Radionuclide Generation', Domain.NUCLEAR_MEDICINE, 24, 'NucApp', 7300, 'low'),
    ...createQBankChunks('nucapp_imgagents', 'NucApp – Imaging agents', Domain.NUCLEAR_MEDICINE, 66, 'NucApp', 7301, 'low'),
    ...createQBankChunks('nucapp_regs', 'NucApp - Nuclear regulations', Domain.RISC, 50, 'NucApp', 7303, 'low'),
    ...createQBankChunks('nucapp_neuro', 'NucApp - Neuro', Domain.NEURORADIOLOGY, 28, 'NucApp', 7305, 'low'),
    ...createQBankChunks('nucapp_pulm', 'NucApp – Pulmonary', Domain.THORACIC_IMAGING, 14, 'NucApp', 7306, 'low'),
    ...createQBankChunks('nucapp_cardiac', 'NucApp - Cardiac', Domain.CARDIOVASCULAR_IMAGING, 23, 'NucApp', 7307, 'low'),
    ...createQBankChunks('nucapp_endo', 'NucApp - Endocrine', Domain.NUCLEAR_MEDICINE, 25, 'NucApp', 7308, 'low'),
    ...createQBankChunks('nucapp_bone', 'NucApp - Bone', Domain.MUSCULOSKELETAL_IMAGING, 15, 'NucApp', 7309, 'low'),
    ...createQBankChunks('nucapp_gu', 'NucApp – Genitourinary', Domain.GENITOURINARY_IMAGING, 15, 'NucApp', 7310, 'low'),
    ...createQBankChunks('nucapp_gi', 'NucApp - Gastrointestinal', Domain.GASTROINTESTINAL_IMAGING, 30, 'NucApp', 7311, 'low'),
    ...createQBankChunks('nucapp_onco', 'NucApp – Oncology', Domain.NUCLEAR_MEDICINE, 32, 'NucApp', 7312, 'low'),
    ...createQBankChunks('nucapp_instqc', 'NucApp – Instrumentation and QC', Domain.PHYSICS, 32, 'NucApp', 7313, 'low'),
    ...createQBankChunks('nucapp_radbio', 'NucApp - Radiation Biology', Domain.PHYSICS, 38, 'NucApp', 7314, 'low'),
    ...createQBankChunks('nis_qb_prof', 'NIS QBank - Professionalism', Domain.NIS, 12, 'NIS Question Bank', 8400, 'medium'),
    ...createQBankChunks('nis_qb_qsc', 'NIS QBank - Quality & Safety Concepts', Domain.NIS, 63, 'NIS Question Bank', 8401, 'medium'),
    ...createQBankChunks('nis_qb_pqs', 'NIS QBank - Practical Quality & Safety', Domain.NIS, 62, 'NIS Question Bank', 8403, 'medium'),
    ...createQBankChunks('nis_qb_sir', 'NIS QBank - Safety in Radiology', Domain.NIS, 72, 'NIS Question Bank', 8405, 'medium'),
    ...createQBankChunks('nis_qb_rl', 'NIS QBank - Regulatory & Legal', Domain.NIS, 58, 'NIS Question Bank', 8407, 'medium'),
    ...createQBankChunks('nis_qb_ii', 'NIS QBank - Imaging Informatics', Domain.NIS, 43, 'NIS Question Bank', 8409, 'medium'),
    ...((): StudyResource[] => {
        const physicsCategories = [
            "Core Review: Foundations Comprehensive Exam", "Core Review: X-Ray Modalities Comprehensive Exam",
            "Core Review: Advanced Modalities Comprehensive Exam", "Core Review: Basics and Atom",
            "Core Review: Interactions of Radiation", "Core Review: X-Ray Production",
            "Core Review: Radiobiology", "Core Review: Informatics and Image Theory",
            "Core Review: Radiography",
            "Core Review: Mammography and Tomosynthesis", "Core Review: Fluoroscopy and IR", "Core Review: CT",
            "Core Review: Nuclear Medicine I", "Core Review: Nuclear Medicine II", "Core Review: Nuclear Medicine III",
            "Core Review: MRI I", "Core Review: MRI II", "Core Review: MRI III", "Core Review: MR Safety",
            "Core Review: Ultrasound I", "Core Review: Ultrasound II"
        ];
        let physicsQbSeq = 9000;
        const allPhysicsQbChunks: StudyResource[] = [];
        physicsCategories.forEach((categoryTitle, idx) => {
            const numQuestions = categoryTitle.includes("Comprehensive Exam") ? 100 : 15;
            const chunks = createQBankChunks(
                `phys_qb_cat_${idx + 1}`,
                `Physics QBank - ${categoryTitle}`,
                Domain.PHYSICS,
                numQuestions,
                "Physics Qbank (Categorized)",
                physicsQbSeq,
                'low'
            );
            allPhysicsQbChunks.push(...chunks);
            physicsQbSeq += chunks.length;
        });
        return allPhysicsQbChunks;
    })(),
];

// Post-processing step to create pairings for the scheduler
const addPairings = (resources: StudyResource[]): StudyResource[] => {
    const resourceMap = new Map(resources.map(r => [r.id, r]));

    const addPair = (id1: string, id2: string) => {
        const r1 = resourceMap.get(id1);
        const r2 = resourceMap.get(id2);
        if (r1 && r2) {
            r1.pairedResourceIds = [...(r1.pairedResourceIds || []), id2];
            r2.pairedResourceIds = [...(r2.pairedResourceIds || []), id1];
        } else {
          // console.warn(`Could not create pairing: one or both IDs not found (${id1}, ${id2})`);
        }
    };

    // Add pairings based on domain and topic keywords
    addPair('titan_vid_0', 'ctc1_ch5_sec6_read'); // GI - Pancreas
    addPair('titan_vid_2', 'ctc1_ch5_sec3_read'); // GI - Liver
    addPair('titan_vid_4', 'ctc1_ch6_sec2_read'); // GU - Renal Masses
    addPair('titan_vid_21', 'ctc2_ch10_sec3_read'); // MSK - Benign/Malignant Tumors
    addPair('titan_vid_28', 'ctc2_ch11_sec7_read'); // Neuro - Tumors
    addPair('titan_vid_34', 'ctc1_ch4_sec4_read'); // Peds - Airway
    addPair('titan_vid_35', 'ctc1_ch4_sec7_read'); // Peds - Luminal GI
    addPair('titan_vid_40', 'ctc1_ch3_sec1_read'); // Cardiac - Chambers/Valves
    addPair('titan_vid_14', 'ctc1_ch2_sec5_read'); // Chest - Lung Cancer

    return Array.from(resourceMap.values());
};

export const masterResourcePool: StudyResource[] = addPairings(initialResourcePool);