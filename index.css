@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* --- Colors --- */
  --background-primary: #000000;
  --text-primary: #F5F5F7;
  --text-secondary: #A1A1A6;
  --accent-purple: hsl(265, 90%, 75%);
  --accent-green: hsl(145, 70%, 55%);
  --accent-red: hsl(0, 85%, 70%);
  --accent-yellow: hsl(45, 100%, 65%);
  --link-color: hsl(210, 100%, 75%);

  /* --- Glass Materials (FINAL - Matte & Blurred) --- */
  --glass-bg-panel: rgba(40, 40, 42, 0.5);       /* More opaque for matte feel */
  --glass-bg-chrome: rgba(28, 28, 30, 0.7);    /* Increased opacity for more frost */
  --glass-bg-modal: rgba(45, 45, 47, 0.55);      /* More opaque for matte feel */
  --glass-bg-hover: rgba(65, 65, 67, 0.6);      /* Adjusted hover */
  --glass-bg-active: rgba(110, 90, 130, 0.65);  /* Adjusted active */

  /* --- Core Liquid Glass Effect (ADDED BLUR) --- */
  --glass-backdrop-filter: blur(24px) url(#liquid-glass-advanced); /* Increased blur for more frost */

  /* --- Glass Edges & Depth (FINAL - Brighter & Crisper) --- */
  --glass-border-color: rgba(255, 255, 255, 0.3); /* Brighter border */
  --glass-sheen: inset 0 1.5px 1px 0 rgba(255, 255, 255, 0.4), inset 0 0 0 1.5px rgba(255, 255, 255, 0.2); /* Brighter sheen */
  --glass-shadow: 0 16px 50px rgba(0, 0, 0, 0.5);

  /* --- Other UI Elements --- */
  --separator-primary: rgba(255, 255, 255, 0.15);
  --separator-secondary: rgba(255, 255, 255, 0.1);
  --button-primary-bg: var(--accent-purple);
  --button-secondary-bg: rgba(80, 80, 80, 0.4);
  --button-secondary-hover-bg: rgba(100, 100, 100, 0.5);
  --button-danger-bg: var(--accent-red);
  --input-bg: rgba(30, 30, 30, 0.5);
  --input-border: rgba(255, 255, 255, 0.15);

  /* --- Z-Indexes --- */
  --z-header: 40;
  --z-sidebar-mobile: 50;
  --z-sidebar-mobile-backdrop: 49;
  --z-modal: 100;
  --z-notification: 110;
}

/* --- DYNAMIC MULTI-COLOR AURORA BACKGROUND --- */
@keyframes move-blob-1 {
  0%   { transform: translate(-10%, -10%) scale(1); }
  50%  { transform: translate(20%, -30%) scale(1.2); }
  100% { transform: translate(-10%, -10%) scale(1); }
}
@keyframes move-blob-2 {
  0%   { transform: translate(15%, 20%) scale(1); }
  50%  { transform: translate(-25%, 0%) scale(0.8); }
  100% { transform: translate(15%, 20%) scale(1); }
}
@keyframes move-blob-3 {
  0%   { transform: translate(-20%, 20%) scale(1); }
  50%  { transform: translate(30%, 30%) scale(1.1); }
  100% { transform: translate(-20%, 20%) scale(1); }
}
@keyframes move-blob-4 {
  0%   { transform: translate(25%, -25%) scale(1); }
  50%  { transform: translate(-15%, 15%) scale(0.9); }
  100% { transform: translate(25%, -25%) scale(1); }
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  background-color: var(--background-primary);
  color: var(--text-primary);
  overscroll-behavior: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow: hidden; /* Prevent body scroll */
  position: relative;
}

#aurora-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  overflow: hidden;
  filter: blur(120px) saturate(1.2); /* Increased blur */
}

.blob {
  position: absolute;
  border-radius: 50%;
  opacity: 0.5; /* Reduced opacity */
  will-change: transform;
}

.blob:nth-child(1) {
  width: 40vmax; height: 40vmax; /* Smaller */
  top: -10%; left: -20%;
  background: var(--accent-purple);
  animation: move-blob-1 40s infinite alternate ease-in-out;
}
.blob:nth-child(2) {
  width: 35vmax; height: 35vmax; /* Smaller */
  top: 10%; right: -25%;
  background: hsl(220, 80%, 50%); /* Deep Blue */
  animation: move-blob-2 45s infinite alternate ease-in-out;
}
.blob:nth-child(3) {
  width: 30vmax; height: 30vmax; /* Smaller */
  bottom: -20%; left: 5%;
  background: hsl(330, 80%, 60%); /* Magenta */
  animation: move-blob-3 50s infinite alternate ease-in-out;
}
.blob:nth-child(4) {
  width: 25vmax; height: 25vmax; /* Smaller */
  bottom: -10%; right: -15%;
  background: hsl(30, 90%, 60%); /* Orange */
  animation: move-blob-4 55s infinite alternate ease-in-out;
}
/* Hide the extra blobs to keep it clean */
.blob:nth-child(5),
.blob:nth-child(6) {
  display: none;
}


#root {
  height: 100vh;
  height: 100dvh;
  width: 100vw;
  overflow: hidden;
}

.main-app-container {
  height: 100%;
}

/* --- Base Panel Styling (Liquid Glass) --- */
.glass-panel, .glass-chrome, .modal-panel, .input-base, .button-secondary, .progress-bar-track {
  border: 1px solid var(--glass-border-color);
  box-shadow: var(--glass-sheen), var(--glass-shadow);
  transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
  border-radius: 12px;
  backdrop-filter: var(--glass-backdrop-filter);
  -webkit-backdrop-filter: var(--glass-backdrop-filter);
}

.glass-panel { background-color: var(--glass-bg-panel); }
.modal-panel { background-color: var(--glass-bg-modal); border-radius: 16px; }

.glass-panel-interactive:hover:not(.is-pomodoro-active) {
  background-color: var(--glass-bg-hover);
  border-color: rgba(255, 255, 255, 0.4);
}

/* --- UI Chrome Elements (Header, Sidebar, and Footers) --- */
header.glass-chrome,
aside.glass-chrome,
div.glass-chrome {
  background-color: var(--glass-bg-chrome);
  backdrop-filter: var(--glass-backdrop-filter);
  -webkit-backdrop-filter: var(--glass-backdrop-filter);
  border-radius: 0;
  box-shadow: var(--glass-sheen); /* simplified shadow for chrome */
  border: none;
}

header.glass-chrome {
  border-bottom: 1px solid var(--separator-primary);
}

aside.glass-chrome {
  border-right: 1px solid var(--separator-primary);
}

div.glass-chrome {
  border-top: 1px solid var(--separator-primary);
}


/* --- Glow Effects & Active States --- */
.interactive-glow-border:hover,
.is-pomodoro-active {
  box-shadow: var(--glass-sheen), var(--glass-shadow), 0 0 15px -3px var(--accent-purple);
  border-color: var(--accent-purple) !important;
}
.is-pomodoro-active {
  background-color: var(--glass-bg-active) !important;
}
.scroller-highlight-glow {
  box-shadow: 0 0 15px -5px var(--accent-purple);
}

/* --- Scrollbar Styling --- */
::-webkit-scrollbar { width: 12px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover { background-color: rgba(255, 255, 255, 0.3); }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

.border-\[\--separator-primary\] { border-color: var(--separator-primary) !important; }

.sidebar-content-area {
  padding: 1rem 1.25rem;
  padding-left: calc(1rem + env(safe-area-inset-left));
  padding-top: calc(1rem + env(safe-area-inset-top));
  padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
}

/* --- Buttons --- */
.button-base { border: none; cursor: pointer; -webkit-tap-highlight-color: transparent; user-select: none; }
.button-primary { background-color: var(--button-primary-bg); }
.button-primary:hover:not(:disabled) { background-color: color-mix(in srgb, var(--button-primary-bg), #fff 15%); }
.button-secondary { background-color: var(--button-secondary-bg); border: 1px solid var(--glass-border-color); }
.button-secondary:hover:not(:disabled) { background-color: var(--button-secondary-hover-bg); }
.button-danger { background-color: var(--button-danger-bg); }
.button-danger:hover:not(:disabled) { background-color: color-mix(in srgb, var(--button-danger-bg), #fff 15%); }
.button-ghost { background-color: transparent; box-shadow: none; border: none; }
.button-ghost:hover:not(:disabled) { background-color: rgba(191, 90, 242, 0.15); }

/* --- Inputs & Selections --- */
.input-base {
  width: 100%; padding: 0.5rem 0.75rem; background-color: var(--input-bg);
  border: 1px solid var(--input-border); border-radius: 0.5rem; color: var(--text-primary);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.input-base:focus {
  outline: none; border-color: var(--accent-purple);
  box-shadow: 0 0 0 2px rgba(191, 90, 242, 0.3);
}

/* --- List Items & Selections --- */
.topic-list-item.is-dragging { background-color: color-mix(in srgb, var(--accent-purple), #000 50%); opacity: 1; }
.resource-card.is-selected { background-color: var(--glass-bg-active); border-color: var(--accent-purple); }
.resource-card.is-highlighted { background-color: color-mix(in srgb, var(--accent-yellow), transparent 85%); }

/* --- Progress Bar --- */
.progress-bar-track { background-color: rgba(0,0,0,0.2); }
.progress-bar-fill {
  background-image: linear-gradient(45deg, var(--accent-purple), color-mix(in srgb, var(--accent-purple), #fff 30%));
}

/* --- iOS Style Toggle Switch --- */
.ios-switch { position: relative; display: inline-block; width: 44px; height: 26px; }
.ios-switch input { opacity: 0; width: 0; height: 0; }
.ios-switch .slider {
    position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
    background-color: #3e3e42; transition: .4s; border-radius: 34px;
}
.ios-switch .slider:before {
    position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px;
    background-color: white; transition: .4s; border-radius: 50%;
}
.ios-switch input:checked + .slider { background-color: var(--accent-purple); }
.ios-switch.yellow input:checked + .slider { background-color: var(--accent-yellow); }
.ios-switch input:focus + .slider { box-shadow: 0 0 1px var(--accent-purple); }
.ios-switch input:checked + .slider:before { transform: translateX(18px); }

/* --- Utility --- */
.text-xxs { font-size: 0.65rem; line-height: 0.9rem; }

/* --- Printing Styles --- */
.print-only-container {
  display: none;
}

@media print {
  @page {
    size: letter;
    margin: 0.75in;
  }

  body, #root {
    overflow: visible !important;
    height: auto !important;
    background: white !important;
    color: black !important;
    font-size: 9pt;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Hide the main interactive app and show the print container */
  .main-app-container {
    display: none !important;
  }
  
  .print-only-container {
    display: block !important;
  }

  .printable-report {
    font-family: 'Times New Roman', Times, serif;
  }
  
  .printable-report header {
    page-break-after: avoid;
  }

  .printable-report h1, .printable-report h2, .printable-report h3, .printable-report h4, .printable-report th {
    font-family: 'Helvetica', 'Arial', sans-serif;
  }

  .printable-report table {
    width: 100%;
    border-collapse: collapse;
    page-break-inside: auto;
  }

  .printable-report th, .printable-report td {
    border: 1px solid #ccc;
    padding: 4px 6px;
    text-align: left;
    word-break: break-word;
  }
  
  .printable-report thead th {
    background-color: #f2f2f2 !important;
    font-weight: bold;
  }

  .printable-report tr {
    page-break-inside: avoid;
  }
  
  .print-page-break {
    page-break-before: always;
  }

  .print-no-break {
    page-break-inside: avoid;
  }
}