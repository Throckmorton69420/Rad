/* Import from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@keyframes aurora-bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

:root {
  /* High-Fidelity Liquid Glass Palette */
  --background-primary: #000000;
  --glass-bg-panel: rgba(30, 30, 32, 0.75);
  --glass-bg-chrome: rgba(28, 28, 30, 0.8);
  --glass-bg-hover: rgba(255, 255, 255, 0.1);
  --glass-bg-active: rgba(255, 255, 255, 0.15);

  --text-primary: #f5f5f7;
  --text-secondary: rgba(235, 235, 245, 0.6); /* Semi-transparent for "vibrancy" effect */

  --separator-primary: rgba(255, 255, 255, 0.12);
  --separator-secondary: rgba(255, 255, 255, 0.08);

  /* Accent Colors */
  --accent-purple: #bf5af2;
  --accent-green: #32d74b;
  --accent-yellow: #ffd60a;
  --accent-red: #ff453a;

  /* UI Element Specific */
  --input-bg: rgba(22, 22, 24, 0.7);
  --input-border: rgba(255, 255, 255, 0.15);
  --button-secondary-bg: rgba(44, 44, 46, 0.7);
  --button-secondary-hover-bg: rgba(60, 60, 62, 0.8);
  
  /* Glass Effect Properties */
  --glass-backdrop-filter: blur(40px) saturate(180%);
  --glass-border-color: rgba(255, 255, 255, 0.1);
  --glass-shadow: inset 0 1.5px 1px rgba(255, 255, 255, 0.1), 0 8px 32px rgba(0,0,0,0.37);

  /* Z-Indexes */
  --z-header: 40;
  --z-sidebar-mobile-backdrop: 49;
  --z-sidebar-mobile: 50;
  --z-modal: 100;
  --z-notification: 150;
}

body {
  font-family: 'Inter', sans-serif;
  background-color: var(--background-primary);
  /* Darker, more vibrant "streaming" aurora effect */
  background-image: 
    radial-gradient(ellipse 40% 50% at 20% 20%, hsla(270, 90%, 60%, 0.25) 0px, transparent 50%),
    radial-gradient(ellipse 30% 50% at 80% 25%, hsla(190, 80%, 50%, 0.3) 0px, transparent 50%),
    radial-gradient(ellipse 40% 50% at 10% 90%, hsla(210, 90%, 60%, 0.2) 0px, transparent 50%),
    radial-gradient(ellipse 30% 50% at 90% 85%, hsla(330, 80%, 65%, 0.25) 0px, transparent 50%);
  background-size: 250% 250%;
  animation: aurora-bg 40s ease infinite;

  color: var(--text-primary);
  overscroll-behavior: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  height: 100vh;
  height: 100dvh; /* Dynamic viewport height */
  width: 100vw;
  overflow: hidden;
}

/* --- Base Panel Styling (Liquid Glass) --- */
.interactive-glow-border, .static-glow-border, .modal-panel {
  background-color: var(--glass-bg-panel);
  -webkit-backdrop-filter: var(--glass-backdrop-filter);
  backdrop-filter: var(--glass-backdrop-filter);
  border: 1px solid var(--glass-border-color);
  box-shadow: var(--glass-shadow);
  transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

.interactive-glow-border:hover:not(.is-pomodoro-active) {
  background-color: var(--glass-bg-hover);
  border-color: rgba(255, 255, 255, 0.2);
}

.modal-panel {
  background-color: var(--glass-bg-chrome);
  border-radius: 12px;
}

.is-pomodoro-active {
  background-color: var(--glass-bg-active) !important;
  border-color: var(--accent-purple) !important;
  box-shadow: var(--glass-shadow), 0 0 15px -3px var(--accent-purple);
}

.scroller-highlight-glow {
  box-shadow: 0 0 15px -5px var(--accent-purple);
}

/* --- Scrollbar Styling --- */
::-webkit-scrollbar { width: 12px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover { background-color: rgba(255, 255, 255, 0.3); }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* --- Sidebar, Header, and other UI Chrome --- */
.bg-\[\--background-secondary\] { /* Overriding Tailwind class */
  background-color: var(--glass-bg-chrome) !important;
  -webkit-backdrop-filter: var(--glass-backdrop-filter);
  backdrop-filter: var(--glass-backdrop-filter);
}
.border-\[\--separator-primary\] {
  border-color: var(--separator-primary) !important;
}

/* --- Sidebar Specifics --- */
.sidebar-content-area {
  padding: 1rem 1.25rem;
  padding-left: calc(1rem + env(safe-area-inset-left));
  padding-top: calc(1rem + env(safe-area-inset-top));
  padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
}

/* --- Buttons --- */
.button-base {
  border: none;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}
.button-primary {
  background-color: var(--accent-purple);
  color: #fff;
}
.button-primary:hover:not(:disabled) { background-color: color-mix(in srgb, var(--accent-purple), #fff 15%); }

.button-secondary {
  background-color: var(--button-secondary-bg);
  border: 1px solid var(--glass-border-color);
}
.button-secondary:hover:not(:disabled) { background-color: var(--button-secondary-hover-bg); }

.button-danger {
  background-color: var(--accent-red);
  color: #fff;
}
.button-danger:hover:not(:disabled) { background-color: color-mix(in srgb, var(--accent-red), #fff 15%); }

.button-ghost { background-color: transparent; box-shadow: none; }
.button-ghost:hover:not(:disabled) { background-color: rgba(191, 90, 242, 0.15); }

/* --- Inputs & Selects --- */
.input-base {
  width: 100%;
  padding: 0.5rem 0.75rem;
  background-color: var(--input-bg);
  border: 1px solid var(--input-border);
  border-radius: 0.5rem;
  color: var(--text-primary);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.input-base:focus {
  outline: none;
  border-color: var(--accent-purple);
  box-shadow: 0 0 0 2px rgba(191, 90, 242, 0.3);
}
.custom-select-button {
  border: 1px solid var(--input-border);
  background-color: var(--input-bg);
}

/* --- Task Item & Resource Lists --- */
.topic-list-item.is-dragging {
  background-color: color-mix(in srgb, var(--accent-purple), #000 50%);
  opacity: 1;
}
.resource-card.is-selected {
  background-color: color-mix(in srgb, var(--accent-purple), transparent 70%);
  border-color: var(--accent-purple);
}
.resource-card.is-highlighted {
  background-color: color-mix(in srgb, var(--accent-yellow), transparent 85%);
}

/* --- Progress Bar --- */
.progress-bar-track { background-color: rgba(0,0,0,0.3); }
.progress-bar-fill {
  height: 100%;
  border-radius: inherit;
  background-image: linear-gradient(45deg, var(--accent-purple), color-mix(in srgb, var(--accent-purple), #fff 30%));
}

/* --- iOS Style Toggle Switch --- */
.ios-switch { position: relative; display: inline-block; width: 44px; height: 26px; }
.ios-switch input { opacity: 0; width: 0; height: 0; }
.ios-switch .slider {
    position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
    background-color: #3e3e42; transition: .4s; border-radius: 34px;
}
.ios-switch .slider:before {
    position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px;
    background-color: white; transition: .4s; border-radius: 50%;
}
.ios-switch input:checked + .slider { background-color: var(--accent-purple); }
.ios-switch.yellow input:checked + .slider { background-color: var(--accent-yellow); }
.ios-switch input:focus + .slider { box-shadow: 0 0 1px var(--accent-purple); }
.ios-switch input:checked + .slider:before { transform: translateX(18px); }

/* --- Tiny Text Size --- */
.text-xxs { font-size: 0.65rem; line-height: 0.9rem; }

/* --- Overrides for Light Theme Remnants --- */
.bg-white { background-color: var(--glass-bg-active) !important; }
.text-black { color: var(--text-primary) !important; }

/* --- Printing Styles --- */
@media print {
  body {
    background-image: none;
    background-color: white;
    color: black;
  }
  .print\:hidden { display: none; }
  .hidden.print\:block { display: block; }
  @page {
    size: letter;
    margin: 0.75in;
  }
  .schedule-report-container {
    font-family: 'Times New Roman', Times, serif;
    font-size: 10pt;
  }
  .schedule-report-day {
    break-inside: avoid-page;
  }
  .new-week-page-break {
    break-before: page;
  }
}