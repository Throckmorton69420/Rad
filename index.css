/*
  CSS RESET
  http://meyerweb.com/eric/tools/css/reset/ 
  v2.0 | 20110126
  License: none (public domain)
*/
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
*, *::before, *::after {
  box-sizing: border-box;
}
/* End Reset */


@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

  /* Z-Index Layers */
  --z-background: -1;
  --z-content: 1;
  --z-header: 10;
  --z-sidebar-mobile-backdrop: 30;
  --z-sidebar-mobile: 35;
  --z-modal: 40;
  --z-notification: 50;

  /* Dark Theme Palette */
  --background-primary: #000000;
  --background-secondary: #1A1A1D;
  --background-tertiary-hover: rgba(255, 255, 255, 0.08);

  --text-primary: #F0F0F0;
  --text-secondary: #A0A0A0;

  --separator-primary: rgba(255, 255, 255, 0.12);
  --separator-secondary: rgba(255, 255, 255, 0.08);

  --accent-purple: #9370DB; /* MediumPurple */
  --accent-green: #32CD32; /* LimeGreen */
  --accent-red: #FF4500; /* OrangeRed */
  --accent-yellow: #FFD700; /* Gold */

  --glass-bg-base: rgba(20, 20, 22, 0.5);
  --glass-bg-chrome: rgba(16, 16, 18, 0.65);
  --glass-bg-active: rgba(45, 45, 50, 0.7);
  --glass-border-color: rgba(255, 255, 255, 0.1);
  --glass-highlight: rgba(255, 255, 255, 0.05);

  --shadow-color: rgba(0, 0, 0, 0.5);
}

/* --- Global Styles --- */
html, body, #root {
  height: 100%;
}

body {
  font-family: var(--font-sans);
  background-color: var(--background-primary);
  color: var(--text-primary);
  overflow: hidden; /* Prevent body scroll */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  height: 100dvh; /* Use dynamic viewport height */
}

/* --- Aurora Background --- */
#aurora-background {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  overflow: hidden;
  z-index: var(--z-background);
  background-color: #000;
  filter: blur(100px) brightness(0.6);
  -webkit-filter: blur(100px) brightness(0.6);
}

.blob {
  position: absolute;
  border-radius: 50%;
  opacity: 0.5;
  mix-blend-mode: screen; /* Additive color mixing */
  will-change: transform;
}

.blob:nth-child(1) {
  width: 45vmax; height: 45vmax;
  top: -10%; left: -10%;
  background-color: #7B2CBF; /* Purple */
  animation: move1 35s infinite alternate;
}
.blob:nth-child(2) {
  width: 50vmax; height: 50vmax;
  top: 20%; right: -20%;
  background-color: #F72585; /* Magenta */
  animation: move2 40s infinite alternate-reverse;
}
.blob:nth-child(3) {
  width: 40vmax; height: 40vmax;
  bottom: -15%; left: 10%;
  background-color: #3A0CA3; /* Dark Blue */
  animation: move3 38s infinite alternate;
}
.blob:nth-child(4) {
  width: 35vmax; height: 35vmax;
  bottom: 5%; right: 5%;
  background-color: #4361EE; /* Royal Blue */
  animation: move4 42s infinite alternate-reverse;
}
.blob:nth-child(5) {
  width: 30vmax; height: 30vmax;
  top: 50%; left: 50%;
  background-color: #4CC9F0; /* Light Blue */
  animation: move5 30s infinite alternate;
}
.blob:nth-child(6) {
  width: 25vmax; height: 25vmax;
  top: 10%; left: 30%;
  background-color: #B5179E; /* Pink */
  animation: move2 45s infinite alternate;
}

@keyframes move1 {
  from { transform: translate(-10vw, -10vh) rotate(-30deg) scale(0.9); }
  to { transform: translate(30vw, 40vh) rotate(30deg) scale(1.1); }
}
@keyframes move2 {
  from { transform: translate(15vw, 20vh) rotate(20deg) scale(1.2); }
  to { transform: translate(-20vw, -30vh) rotate(-20deg) scale(0.8); }
}
@keyframes move3 {
  from { transform: translate(25vw, -15vh) skew(10deg, -5deg); }
  to { transform: translate(-10vw, 30vh) skew(-10deg, 5deg); }
}
@keyframes move4 {
    from { transform: translate(0, 0) rotate(0deg); }
    to { transform: translate(20vw, -20vh) rotate(180deg); }
}
@keyframes move5 {
    from { transform: translate(-20vw, 20vh) scale(0.8) rotate(45deg); }
    to { transform: translate(20vw, -20vh) scale(1.2) rotate(-45deg); }
}


/* --- Liquid Glass Theme --- */
.glass-panel, .glass-chrome, .modal-panel {
  /* This is the key: Apply our SVG filter on Chromium browsers */
  /* This will be polyfilled with backdrop-filter on other browsers */
  -webkit-backdrop-filter: blur(24px) saturate(120%);
  backdrop-filter: blur(24px) saturate(120%);

  @supports (filter: url('#liquid-glass-advanced')) or (-webkit-filter: url('#liquid-glass-advanced')) {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    filter: url(#liquid-glass-advanced);
  }
}

.glass-panel {
  background-color: var(--glass-bg-base);
  border: 1px solid var(--glass-border-color);
  border-radius: 12px;
  box-shadow: 
    inset 0 1px 0 0 var(--glass-highlight),
    0 10px 30px -5px var(--shadow-color);
}

.glass-panel-interactive {
  transition: transform 150ms ease-out, background-color 150ms ease-out;
}
.glass-panel-interactive:hover {
  background-color: rgba(35, 35, 38, 0.6);
  transform: translateY(-2px);
}
.glass-panel-interactive:active {
  transform: translateY(0px);
  transition-duration: 50ms;
}

.glass-chrome {
  background-color: var(--glass-bg-chrome);
  -webkit-backdrop-filter: blur(32px) saturate(150%);
  backdrop-filter: blur(32px) saturate(150%);
}

.main-content-area-glass {
   border-top-left-radius: 20px;
   border: 1px solid var(--glass-border-color);
   border-bottom: 0;
   border-right: 0;
   background: rgba(10, 10, 10, 0.4);
   -webkit-backdrop-filter: blur(40px) saturate(130%);
   backdrop-filter: blur(40px) saturate(130%);
   box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.03);
}

@media (min-width: 1024px) {
  .sidebar-content-area {
    border-top-right-radius: 20px;
  }
}

.modal-panel {
  background: radial-gradient(circle at top, rgba(30, 30, 35, 0.8) 0%, rgba(15, 15, 18, 0.85) 100%);
  border: 1px solid var(--glass-border-color);
  border-radius: 16px;
  box-shadow: 
    inset 0 1.5px 0 0 rgba(255, 255, 255, 0.1),
    0 20px 50px -10px var(--shadow-color);
  -webkit-backdrop-filter: blur(40px) saturate(150%);
  backdrop-filter: blur(40px) saturate(150%);
}

/* --- Component Styles --- */
.button-base {
  border: none;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.button-primary {
  background: linear-gradient(to bottom, var(--accent-purple), #7c59bd);
  color: white;
  box-shadow: 0 2px 8px -2px rgba(147, 112, 219, 0.5), inset 0 1px 0 0 rgba(255,255,255,0.2);
}
.button-primary:hover:not(:disabled) { background: linear-gradient(to bottom, #a380e9, #8c69cd); }
.button-primary:active:not(:disabled) { background: #7c59bd; transform: translateY(1px); box-shadow: 0 1px 4px -1px rgba(147, 112, 219, 0.5); }

.button-secondary {
  background-color: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
}
.button-secondary:hover:not(:disabled) { background-color: rgba(255, 255, 255, 0.12); }
.button-secondary:active:not(:disabled) { background-color: rgba(255, 255, 255, 0.06); }

.button-danger {
  background: linear-gradient(to bottom, var(--accent-red), #d93b00);
  color: white;
  box-shadow: 0 2px 8px -2px rgba(255, 69, 0, 0.5), inset 0 1px 0 0 rgba(255,255,255,0.2);
}
.button-danger:hover:not(:disabled) { background: linear-gradient(to bottom, #ff5e1a, #e94c00); }

.button-ghost { background-color: transparent; }
.button-ghost:hover:not(:disabled) { background-color: var(--background-tertiary-hover); }

.input-base {
  width: 100%;
  background-color: rgba(0, 0, 0, 0.2);
  border: 1px solid var(--separator-primary);
  border-radius: 8px;
  padding: 8px 12px;
  color: var(--text-primary);
  transition: border-color 150ms, box-shadow 150ms;
}
.input-base:focus {
  outline: none;
  border-color: var(--accent-purple);
  box-shadow: 0 0 0 3px rgba(147, 112, 219, 0.3);
}
.input-base::placeholder {
  color: var(--text-secondary);
  opacity: 0.7;
}

/* Custom Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 4px; border: 2px solid transparent; background-clip: content-box; }
::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }

.isolated-scroll {
  scrollbar-gutter: stable;
}

/* Progress Bar */
.progress-bar-track {
  overflow: hidden;
}
.progress-bar-fill {
  height: 100%;
  border-radius: inherit;
  background-image: linear-gradient(45deg, var(--accent-purple), #5e429b);
  transition: width 0.5s ease-in-out;
}


/* Special UI States */
.is-pomodoro-active {
  outline: 2px solid var(--accent-purple);
  box-shadow: 0 0 20px -5px var(--accent-purple), inset 0 0 15px -5px var(--accent-purple);
}

.is-highlighted {
  background-color: rgba(147, 112, 219, 0.2) !important;
  outline: 1px solid var(--accent-purple);
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fadeIn 200ms ease-out forwards; }

.text-xxs {
    font-size: 0.65rem;
    line-height: 0.9rem;
}

.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

.scroller-highlight-glow {
  box-shadow: 0 0 20px -8px var(--accent-purple), inset 0 0 10px -5px var(--accent-purple);
}

/* iOS-style Switch */
.ios-switch {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 28px;
}
.ios-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.ios-switch .slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #39393D;
  transition: .4s;
  border-radius: 28px;
}
.ios-switch .slider:before {
  position: absolute;
  content: "";
  height: 24px;
  width: 24px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0,0,0,0.4);
}
.ios-switch input:checked + .slider { background-color: var(--accent-purple); }
.ios-switch.yellow input:checked + .slider { background-color: var(--accent-yellow); }
.ios-switch input:checked + .slider:before {
  transform: translateX(20px);
}

/* Drag & Drop Styles */
.topic-list-item.is-dragging {
  opacity: 0.4;
  background-color: var(--accent-purple) !important;
}
body.is-dragging-item {
  cursor: grabbing !important;
}
.drag-handle { padding: 0 8px; }

/* Modify Day Modal Resource Card */
.resource-card.is-selected {
    background-color: rgba(147, 112, 219, 0.4);
    outline: 2px solid var(--accent-purple);
}
.resource-card.is-highlighted {
    background-color: rgba(147, 112, 219, 0.2);
}

/* Print styles */
@media print {
  body {
    background-color: #fff;
    color: #000;
  }
  .schedule-report-container {
    padding: 1rem;
    font-size: 10pt;
  }
  .schedule-report-day {
    break-inside: avoid;
  }
  .new-week-page-break {
    page-break-before: always;
  }
}
